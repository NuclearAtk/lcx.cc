<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>应用安全思维系列之一：如何保护密码才安全 - Nuclear&#39;Atk（核攻击）网络安全实验室</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="jiayzhan" /><meta name="description" content="应用安全思维系列之一：如何保护密码才安全。近几年，国内一些企业的后台用户信息被黑客公布，相信大家都有耳闻，这只是公布了的，没公布的呢？还有多少，你想想诸多中国互联网企业保存了多少用户的数据，它们往往都是黑客们的“余粮”，这些事件导致的损失咱就不耸人听闻了，在类似事件当中，有诸多的用户隐私信息，其中最敏感的莫过于密码本身了，今天就讲讲对于企业应用来说，如何保护用户的密码才安全。" />
<meta name="keywords" content="应用安全思维系列之一：如何保护密码才安全" />



<meta name="baidu-site-verification" content="GSIJv096Bu" />



<meta name="generator" content="Hugo 0.82.0" />


<link rel="canonical" href="https://lcx.cc/post/3723/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="应用安全思维系列之一：如何保护密码才安全" />
<meta property="og:description" content="应用安全思维系列之一：如何保护密码才安全。近几年，国内一些企业的后台用户信息被黑客公布，相信大家都有耳闻，这只是公布了的，没公布的呢？还有多少，你想想诸多中国互联网企业保存了多少用户的数据，它们往往都是黑客们的“余粮”，这些事件导致的损失咱就不耸人听闻了，在类似事件当中，有诸多的用户隐私信息，其中最敏感的莫过于密码本身了，今天就讲讲对于企业应用来说，如何保护用户的密码才安全。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lcx.cc/post/3723/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2013-07-16T09:54:34&#43;08:00" />
<meta property="article:modified_time" content="2013-07-16T09:54:34&#43;08:00" />

<meta itemprop="name" content="应用安全思维系列之一：如何保护密码才安全">
<meta itemprop="description" content="应用安全思维系列之一：如何保护密码才安全。近几年，国内一些企业的后台用户信息被黑客公布，相信大家都有耳闻，这只是公布了的，没公布的呢？还有多少，你想想诸多中国互联网企业保存了多少用户的数据，它们往往都是黑客们的“余粮”，这些事件导致的损失咱就不耸人听闻了，在类似事件当中，有诸多的用户隐私信息，其中最敏感的莫过于密码本身了，今天就讲讲对于企业应用来说，如何保护用户的密码才安全。"><meta itemprop="datePublished" content="2013-07-16T09:54:34&#43;08:00" />
<meta itemprop="dateModified" content="2013-07-16T09:54:34&#43;08:00" />
<meta itemprop="wordCount" content="7495">
<meta itemprop="keywords" content="安全,保护,密码,Hash,HTTP,IE,MD5,Sha256,SSL,测试,查询,程序,代理,代码,服务,服务器,工程师,攻击,黑客,后台,缓冲区,加密,解密,漏洞,逆向,企业,身份,事件,数据,数据库,算法,讨论,网络,问题,系统,协议,盐,溢出,远程,中国,注入," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="应用安全思维系列之一：如何保护密码才安全"/>
<meta name="twitter:description" content="应用安全思维系列之一：如何保护密码才安全。近几年，国内一些企业的后台用户信息被黑客公布，相信大家都有耳闻，这只是公布了的，没公布的呢？还有多少，你想想诸多中国互联网企业保存了多少用户的数据，它们往往都是黑客们的“余粮”，这些事件导致的损失咱就不耸人听闻了，在类似事件当中，有诸多的用户隐私信息，其中最敏感的莫过于密码本身了，今天就讲讲对于企业应用来说，如何保护用户的密码才安全。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Nuclear'Atk</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/">友链</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/%E5%85%B3%E4%BA%8E/">关于</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Nuclear'Atk
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/">友链</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/%E5%85%B3%E4%BA%8E/">关于</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">应用安全思维系列之一：如何保护密码才安全</h1>
      
      <div class="post-meta">
        <time datetime="2013-07-16" class="post-time">
          2013-07-16
        </time>
        <div class="post-category">
            <a href="https://lcx.cc/categories/%E8%80%81%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AE%B9/"> 老系统内容 </a>
            <a href="https://lcx.cc/categories/%E5%AE%89%E5%85%A8/"> 安全 </a>
            <a href="https://lcx.cc/categories/%E4%BF%9D%E6%8A%A4/"> 保护 </a>
            <a href="https://lcx.cc/categories/%E5%AF%86%E7%A0%81/"> 密码 </a>
            
          </div>
        <span class="more-meta"> 约 7495 字 </span>
          <span class="more-meta"> 预计阅读 15 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    
  </div>
</div>

    
    <div class="post-content">
      
<p style="text-indent:2em;">
	<strong><span style="color:#009900;">这两天有点空，多写一些吧，上篇文章当中涉及到的【故事】其实还有太多太多，我就不记流水帐了，只挑对于多数人来说容易看懂的说说，抛砖引玉吧。</span></strong> 
</p>
<p style="text-indent:2em;">
	<strong><span style="color:#333333;">【本文背景】</span></strong> 
</p>
<p style="text-indent:2em;">
	近几年，国内一些企业的后台用户信息被黑客公布，相信大家都有耳闻，这只是公布了的，没公布的呢？还有多少，你想想诸多中国互联网企业保存了多少用户的数据，它们往往都是黑客们的“余粮”，这些事件导致的损失咱就不耸人听闻了，在类似事件当中，有诸多的用户隐私信息，其中最敏感的莫过于密码本身了，今天就讲讲对于企业应用来说，如何保护用户的密码才安全。
</p>
<p style="text-indent:2em;">
	使用“安全思维”一词，源于我认为这些原则不需要背诵，而是你应用安全思维形成后的信手拈来。
</p>
<p style="text-indent:2em;">
	<strong><span style="color:#333333;">【密码保护的原则】</span></strong> 
</p>
<p style="text-indent:2em;">
	1. 永远不要在数据库、会话及本文当中保存<strong><span style="color:#E53333;">明码密码</span></strong>，中间临时的变量存储用完后要及时清空
</p>
<p style="text-indent:2em;">
	2. 在正式的产品线上运行的产品，任何人不应该有渠道获取到用户密码的明码，包括但不限于产品开发人员、产品维运人员及技术支持人员
</p>
<p style="text-indent:2em;">
	3. 用户密码只采用sha2-256或者更高版本更多数位的算法进行哈希，而不是用诸如AES算法进行加密
</p>
<p style="text-indent:2em;">
	4. 任何用户的密码在哈希时必需包括但不限于：1）可配置长串Key 2)用户设置密码时动态随机生成随机串 3）用户密码本身
</p>
<p style="text-indent:2em;">
	5. 永远不要以任何形式log用户的密码，无论你是想做问题的调试还是用户信息的收集，密码的明码都是不能碰的
</p>
<p style="text-indent:2em;">
	6. 不要认为以上1-5 block你的业务逻辑实现，那是你的实现方法不对，以上的原则是正确的
</p>
<p style="text-indent:2em;">
	7. 企业应用系统必需严格的log任何人的对用户敏感信息的操作
</p>
<p style="text-indent:2em;">
	可能有人会问“帐户泄漏不是因为以下可能的原因导致的吗“？
</p>
<p style="text-indent:2em;">
	1）应用层的漏洞，诸如：SQL Injection导致非授权数据被查询出来
</p>
<p style="text-indent:2em;">
	2 ) HTTP 伺服器（e.g. Apache\Tomcat...）实现时用的程序语言导致缓冲区溢出、业务逻辑导致的缓冲区溢出等导致远程代码注入与执行从而进入后台直接拧取数据库内容
</p>
<p style="text-indent:2em;">
	3）网络操作系统实现时用的程序语言导致缓冲区溢出、业务逻辑导致的缓冲区溢出等导致远程代码注入与执行从而进入后台直接拧取数据库内容
</p>
<p style="text-indent:2em;">
	4）数据库伺服器(e.g. MySql)实现时用的程序语言导致缓冲区溢出、业务逻辑导致的缓冲区溢出等导致远程代码注入与执行从而进入后台直接拧取数据库内容
</p>
<p style="text-indent:2em;">
	......
</p>
<p style="text-indent:2em;">
	是的，以上往往是爆库的直接原因，但是在这里我建议您想想这三个概念：攻击者、受害者、责任者，对于以上的原因，只有原因1）本身的责任者是产品的主人，而各种服务端软件提供者、操作系统往往并不被企业直接进行代码级维护，你是可以通过安全设置与配置进行安全设置，但是它的体系何止你了解的那么一丁点儿？ 对于做产品应用的企业来说，最佳的原则是：<strong><span style="color:#E53333;">即便一整套系统被人搬走了，我也能最大限度的保护用户的隐私及敏感信息！</span></strong> 
</p>
<p style="text-indent:2em;">
	OK，我们继续解读以上7原则。
</p>
<p style="text-indent:2em;">
	<strong><span style="color:#333333;">原则1. </span></strong>这一条很容易理解，明码意味着总有人有渠道去获取，这个人现在可能是朋友，将来也可能是敌人，所以有明码密码的地方就是孽源，呵呵
</p>
<p style="text-indent:2em;">
	<strong><span style="color:#333333;">原则2. </span></strong>如刚才所说，哈希后的密码也不应该通过简单的反向算法就可以恢复到原文，如果这样，对于企业的开发人员来说等于没有加密，还是那句话：在保护用户敏感信息上，没有可以相信的人，只有正确的方法。
</p>
<p style="text-indent:2em;">
	<strong><span style="color:#333333;">原则3. </span></strong>我一直在避免说“加密”二字，这两个字容易让人联想到能加就能解的事儿，所以容易习惯性的使用加密算法对密码进行加密存储，这样产品的实现者比较容易通过逆向的方法获取到用户密码
</p>
<p style="text-indent:2em;">
	<strong><span style="color:#333333;">原则4. </span></strong> 可配置的Key可以有效的避免产品的开发与测试人员用同样的方法在正式产品线上通过逆向的方式破解用户敏感信息，随机Key的目的是让正式产品线上的维护者也较难通过逆向的方法来破解用户信息，更重要的是避免在用户信息表里具有相同密码的用户们拥有相同的哈希值！ 具体如何实现嘛，办法肯定有，需要智慧哟~_~
</p>
<p style="text-indent:2em;">
	<strong><span style="color:#333333;">原则5. </span></strong>许多公司的通病，就是开发与测试人员为了自己的方便常把诸多信息写到LOG里，以方便自己的调试与问题跟踪，有了这个口子，一切安全措施都变成徒劳了，千万不要这么做！
</p>
<p style="text-indent:2em;">
	<span style="color:#333333;"><strong>原则6. </strong></span>说这一条就是为了堵住具体实现人员的嘴，呵呵，没有实现不了的，只有你没想到的。原则有了，实现方法一定会有，没有直线的方法，可以有曲线的方法，总之一定有。具体产品具体业务逻辑具体对待，没有统一的方法，能统一的，我就告诉你了~_~，但是整体思想是一致的。
</p>
<p style="text-indent:2em;">
	<strong><span style="color:#333333;">原则7. </span></strong> 记录企业产品的管理员、维运人员、技术支持人员的敏感操作(包括但不限于)，对于一些重大安全事件的追踪相当有意义，最终有一种“锁”机制，如果敏感log不能写成功，那操作就不能执行，敏感操作的log最好放在相对独立的服务器上，以防止被毁尸灭迹~_~。本人就有一个大胆的猜想：诸多企业的爆库事件，至少有一种可能就是来自企业内部，而并非一定来自“真正意义上的黑客”，大家千万别攻击我，我只是说至少有一种可能。
</p>
<p style="text-indent:2em;">
	做应用安全的过程就如你从刚接触自行车到最终可以熟练的驾驭的过程。当你首次接触自行车的时候，通常有一种困惑就是：两个轮子为什么不会倒？甚至因此质疑自己到底能不能学会。当你学会了以后，你就不需要再考虑它倒不倒的事儿了，任何一个要倒的倾向，你都会在不经意间化险为夷，这就是你已经领会它的神了，植入了你的潜意识。应用安全的思维也是这么形成的，只是过程要漫长的多。<strong><span style="color:#333333;">我们学任何知识，最终能终身受益的往往不是知识本身，而是它的思维方式</span></strong>，比如：数学让你有推理的思维习惯，历史让你有反思的思维习惯，哲学让你有透过现象看本质的思维习惯等等，大学毕业数年了，如果你不从事相关职业，让你去考试，你能考几分？但这并不表明你学的东西都忘记了，其实最有价值的东西还保存着呢，那就是：思维方式。应用安全也一样。祝您早日驾驭应用安全！
</p>
<p style="text-indent:2em;">
	<a href="http://www.freebuf.com/articles/web/11020.html" target="_blank">[原文地址]</a>
</p>
<p>
	<strong>相关讨论：</strong>
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15 1楼
</p>
<p style="text-indent:2em;">
	解释一下文中的一小段描述：【哈希后的密码也不应该通过简单的反向算法就可以恢复到原文】，此处并不是想表达哈希值可以直接解密，就算是最垃圾的MD5，直接解密它也是异常困难的，我主要指：哈希值的生成时的构成元素，比如：SHA2-256(strPwd)，如果是如此简单的构成元素，问题就大大的了，比如：用户使用了一个简单的密码：12345，此时SHA2-256(“12345″)将是一个固定的值了，如此，我就可以利用SHA2-256攻击字典（map of value and hashValue）进行尝试，将会非常容易的测试出简单的密码值。所以，即便用户使用了简单的密码，我们也要确保用户名与密码不易被字典攻击，比如可以使用：SHA2-256(strPwd+configurableRandomString+randomString+…)来进行hash，可能有人会有疑问，这玩意如何验证，自己考虑吧，实在不明白，私下再讨论。
</p>
<p style="text-indent:2em;">
	Justin (1级) 2013-07-15
</p>
<p style="text-indent:2em;">
	@jiayzhan 如果没有理解错的话，这个是salt加密？只是一直搞不清楚randomstring的salt，最终应该怎么验证，大神有相关资料可以查询下？
</p>
<p style="text-indent:2em;">
	jn61129052 (1级) 2013-07-15
</p>
<p style="text-indent:2em;">
	@Justin salt要做到randomstring，最简单的就是使用用户名，某种特殊的变换（比如加上注册时间）以后变成salt,这样数据库中存的全都是随机的salt，，并且可以很简单的进行验证。除非得到真正的加密算法，不然脱裤也无法登陆
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@jn61129052 使用不使用用户ID依据业务逻辑需要决定，主要是要带上：唯一的、随机的值。它的意义在文中有述，验证方法嘛，应该不止一种吧，各公司玩法不一样，我不大方便透漏我们的玩法。可以提示一下：如果产品线上的维护者与开发人员合作，是有办法知道这个salt的。我文中提到更重要的是防止同密码同值的情况出现。
</p>
<p style="text-indent:2em;">
	目前国外有一些超级大公司的要求更严格，他们要求服务提供者永远不可能有任何渠道查询用户的明文数据，那只有唯一的办法了：客户端加密及客户端解密，脱离此办法的，是不可能做到服务提供者永远不可能看到用户的明文信息的目的的。还有一些公司使用自己的“加解密代理”，就是在自己公司与云服务提供商之间，加一个代理，自动加解密用户数据，以达到云服务提供者永远不能看到明文的用户数据的目的。之所以说这么多，是因为我认为大家的困惑在这里，希望我蒙对了~_~
</p>
<p style="text-indent:2em;">
	fake 2013-07-15
</p>
<p style="text-indent:2em;">
	@jiayzhan 请教楼主两个问题1.configurableRandomString是啥意思？
</p>
<p style="text-indent:2em;">
	2.如果salt随机的意义在哪？是为了防止salt被拿到吗？
</p>
<p style="text-indent:2em;">
	3.楼主的意思是每个用户都有一个专属salt吗？还有，如果salt随机了，如何避免hash后不会重复？
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@fake
</p>
<p style="text-indent:2em;">
	1. configurableRandomString也是盐，目的：增加复杂度，同时之所以叫：configurable目的是让它在测试环境里使用一个，正式上产品线的时候，通过简单的修改就可以使用新的，从而避免测试环境与产品线上的盐一样。
</p>
<p style="text-indent:2em;">
	2. 随机盐的主要目的：防止同密码同hash值。不是为了防止salt被拿到。
</p>
<p style="text-indent:2em;">
	3. 是的，必需有专门盐。随机+唯一，所以可以带时间戳。如果随机+唯一都会重复，那就是sha2-256的空间问题了，俗语叫：碰撞。如果你碰上了，你当天就去买彩票，不中奖也开心，呵呵。
</p>
<p style="text-indent:2em;">
	不知道我的回答是否完整。
</p>
<p style="text-indent:2em;">
	逍龙 (1级) 2013-07-15
</p>
<p style="text-indent:2em;">
	@jiayzhan configurableRandomString對於所有用戶都是一樣的嗎
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@逍龙 是的，一样的，所以需要后面一个randomStr以确保同密码不同哈希值
</p>
<p style="text-indent:2em;">
	xiao_hen (1级) 矮穷挫小分队。 2013-07-15
</p>
<p style="text-indent:2em;">
	@jiayzhan 想解开的话，完全就是数学难题。理论上是不可以的，不知道将来可不可以实现。
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@xiao_hen 理论上可以，实现上 难 到不可以程度，呵呵。
</p>
<p style="text-indent:2em;">
	cd 2013-07-15 2楼
</p>
<p style="text-indent:2em;">
	那如果应用采用了HTTP digest或者CHAP协议的话，密码该怎么保存呢
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@cd 你的问题是涉及的是：传输的安全性问题，不是本文的范围。关于传输安全，涉及两个阶段：非对称加密的密钥协商及传输过程，及对称加密的数据传输过程。将来有机会我细写一篇文章来描述。
</p>
<p style="text-indent:2em;">
	xxoo 2013-07-15 3楼
</p>
<p style="text-indent:2em;">
	有钱的主，买加密机
</p>
<p style="text-indent:2em;">
	没钱的主，自己做一个加密接口，类似于SSO的东东。算法可以采取变异非对称算法
</p>
<p style="text-indent:2em;">
	phper 2013-07-15
</p>
<p style="text-indent:2em;">
	@xxoo lz公司用加密机吗
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@phper LZ是我，呵呵，你是问楼上吗？
</p>
<p style="text-indent:2em;">
	pher 2013-07-15
</p>
<p style="text-indent:2em;">
	@jiayzhan 是问您哦，您公司用加密机了吗？你们用加密机主要解决什么问题？
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@pher 不用，加密代理用起来会有诸多不方便
</p>
<p style="text-indent:2em;">
	xiao_hen (1级) 矮穷挫小分队。 2013-07-15
</p>
<p style="text-indent:2em;">
	@xxoo 公司用加密机。那也太奢侈了吧？
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@xxoo 呵呵，与本文不完全匹配。但确实是应用安全当中需要解决的一类问题。
</p>
<p style="text-indent:2em;">
	cd 2013-07-15 4楼
</p>
<p style="text-indent:2em;">
	我理解我的问题还不只是传输问题，也与服务器如何保存密码相关。比如服务器如果采用SHA256（password+salt+blabla）方式存密码的话，就很难支持CHAP了，因为CHAP协议中请求方会计算MD5（password+rand），这样服务器没法验证请求方送上来的响应值。HTTP digest也存在同样的问题。
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@cd 协议是协议，数据是数据，如果协议的设计需要要求数据是什么形式，那一定是协议出了问题。两者之间应该不矛盾的，我觉得应该是我没了解你的疑问在哪里。你可以更详细的描述一个work flow，方便我可以更好的了解你的疑问。
</p>
<p style="text-indent:2em;">
	cd 2013-07-15 5楼
</p>
<p style="text-indent:2em;">
	“如果协议的设计需要要求数据是什么形式，那一定是协议出了问题” 这个我觉得有点绝对了。
</p>
<p style="text-indent:2em;">
	CHAP协议或者HTTP Digest协议，都需要认证双方根据临时的随机数rand、密码 psw、用户身份id以及其他一些参数计算摘要HASH（rand|psw|id|…）。但如果服务器只有Hash（psw|salt），就没法验证HASH（rand|psw|id|…）的正确性。这两个协议可以看一下RFC 1994和RFC 2617.
</p>
<p style="text-indent:2em;">
	所以密码如何保存是会影响协议的支持性的，如果需要支持很多种认证协议，那可能xxoo说的加密机是个靠谱的办法。而且说实话加密机也没多贵。
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@cd 呵呵，谢谢批评，任何时候都不应该把话说的绝对了。好，进入正题。
</p>
<p style="text-indent:2em;">
	你说的与我说的是两类问题了：
</p>
<p style="text-indent:2em;">
	1. 本文所述的问题是：基于通用协议的安全存储与使用的问题
</p>
<p style="text-indent:2em;">
	2. 你的问题是的基于 【验证的协议】。OK，就来说说这个 【基于认证、验证的协议】—-【CHAP】 吧.
</p>
<p style="text-indent:2em;">
	这个问题很好解决，协议依然是协议，数据依然是数据，过程可以如下：
</p>
<p style="text-indent:2em;">
	假设服务端的密码被带我上述的方法给sha2-256了，注意，此时使用我上述方法时，不要直接使用明文密码参与hash了，而使用与CHAP协议一致的HASH算法hash之后，再参加我的算法，然后开始进行CHAP的过程:
</p>
<p style="text-indent:2em;">
	【A】—-请求访问—&gt; 【B】
</p>
<p style="text-indent:2em;">
	【B】–接受请求，要求对A进行身份确认 CHAP认证 –&gt;【A】
</p>
<p style="text-indent:2em;">
	【A】–接受身份认证，–A的密码hash+自己的用户名 —&gt;【B】
</p>
<p style="text-indent:2em;">
	【B】–取得A的密码hash后，用sha2-256也就是我上述的算法，得到一个sha2-256的哈希值，B再通过用户名找到用户A的存储的我上述的方法得到的sha2-256的哈希值，进行比对，得到验证结果。
</p>
<p style="text-indent:2em;">
	不矛盾的吧？呵呵。数据依然是数据，协议依然是协议，这个小原则理论上任何时候不会错的，可以称之为协议的东西，得有这方面的考虑，那就是：独立性及自成一个小体系。
</p>
<p style="text-indent:2em;">
	kevinf (1级) 2013-07-15
</p>
<p style="text-indent:2em;">
	@jiayzhan 你对CHAP协议的理解有误。 在第二步B需要发一个random给A，要求A计算出至少包含了A的Password 和random 的字符串的哈希值。 这里的Random就是所谓的Challenge (C)。没有了随机性，就算不上挑战-响应了。
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@kevinf 嗯，握手过程我说的不够细，CHAP握手是标准的的握手过程的简化版，比SSL握手过程简略一些，但不影响我所阐述的solution。
</p>
<p style="text-indent:2em;">
	kevinf (1级) 2013-07-15
</p>
<p style="text-indent:2em;">
	@jiayzhan 由于必须用到随机的Challenge，在Server端必须要能够恢复出Password的原文，只能用可逆的加密算法来处理Password，不能使用SHA256等哈希算法.
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@kevinf 没完全理解我阐述的solution，是我描述的不易懂，呵呵，你再看几遍，还不理解的话，我换一个方法再说一次。先看一下。把任何协议理解为一个黑箱子，两头是接口，所以，中间的协议是什么，理论上不可能影响到你的具体实现的。还是那句话，如果真的影响了，那一定是协议设计的有问题了，古老的协议也不排除这种可能。
</p>
<p style="text-indent:2em;">
	cd 2013-07-15
</p>
<p style="text-indent:2em;">
	@jiayzhan 多谢回复。 可能还需要对协议讨论一下。以CHAP为例，流程是这样的：
</p>
<p style="text-indent:2em;">
	1. Client –用户的ID–&gt;Server
</p>
<p style="text-indent:2em;">
	2. Client&lt;–Challenge– Server
</p>
<p style="text-indent:2em;">
	3. Client –MD5(ID,password, Challenge) –&gt;Server
</p>
<p style="text-indent:2em;">
	4. Client&lt;– Accept/refuse–Server
</p>
<p style="text-indent:2em;">
	第二步的Challenge必须是每次随机生成，不然恶意终端就可以重放攻击了。
</p>
<p style="text-indent:2em;">
	假设服务器保存密码是SHA256(password, salt,..)保存的。到第3步收到终端发上来的请求后怎么能通过SHA256(MD5（ID,password,Challenge）)验证呢。
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@cd @kevinf 不好意思，下班刚回到家。OK,以CD所述为蓝本，继续讨论：
</p>
<p style="text-indent:2em;">
	这里确实是个矛盾了，我大概猜测到了你们的使用场景了。貌似CHAP协议本身在设计的时候没有考虑到致服务端不可逆加密存储的情况，如果是这样，如果我是你们的安全主管，我的决定是：
</p>
<p style="text-indent:2em;">
	1. 为什么要使用CHAP协议，SSL+自实现的认证模式足以解决此问题
</p>
<p style="text-indent:2em;">
	2. 一定要使用CHAP协议，那就想法改造它，比如：走SSL通道，去除挑战码
</p>
<p style="text-indent:2em;">
	我简单查了一下资料，表明CHAP协议不支持与不可逆加密存储一起使用，先天性的问题了，可以看一下：
</p>
<p style="text-indent:2em;">
	http://technet.microsoft.com/zh-cn/library/dd197594(v=ws.10).aspx
</p>
<p style="text-indent:2em;">
	若要启用基于 CHAP 身份验证，必须执行以下操作：
</p>
<p style="text-indent:2em;">
	作为网络访问服务器上的身份验证协议启用 CHAP。
</p>
<p style="text-indent:2em;">
	在 NPS 中适当的网络策略上启用 CHAP。
</p>
<p style="text-indent:2em;">
	启用用户密码是可逆加密形式的存储。
</p>
<p style="text-indent:2em;">
	可以启用的每个用户帐户的用户密码的可逆加密形式存储，也可以使存储能够用于在域中的所有帐户。
</p>
<p style="text-indent:2em;">
	强制重置用户密码，以便新的密码是可逆加密形式。
</p>
<p style="text-indent:2em;">
	逍龙 (1级) 2013-07-15 6楼
</p>
<p style="text-indent:2em;">
	salt是應該存在數據庫中還是根據其他的例如用戶名和時間根據設定的算法等用的時候再計算出來
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@逍龙 你讲到点子上了，哈哈，好好想想吧，过两天再说:-)
</p>
<p style="text-indent:2em;">
	anlfi (1级) ??????????????????????????... 2013-07-15 7楼
</p>
<p style="text-indent:2em;">
	还有一种加密叫对等加密 密匙就是加密代码的一部分
</p>
<p style="text-indent:2em;">
	想要解码就必须把源代码填充完整使之有效 在进行RSA动态加密验证
</p>
<p style="text-indent:2em;">
	其实md5-128 即md5的128位加密算是不弱了相比普通MD5 可以说非常难解了
</p>
<p style="text-indent:2em;">
	(这里就有了建模建模关系 32的储存空间与CPU计算 假如是彩虹表那么128就会比普通MD5大)
</p>
<p style="text-indent:2em;">
	加密只是一个环节 至于密码明文未必需要或者可以劫持获得
</p>
<p style="text-indent:2em;">
	或者可以利用一些逻辑漏洞直接使用hash登入
</p>
<p style="text-indent:2em;">
	然而 令牌 usbkey 之类的 就像SSH信任 这些无需密码的威胁也是很重要的 不仅仅是在那个层面
</p>
<p style="text-indent:2em;">
	这里有点牵涉密码学 然而还有算法攻击 在服务端加密的过程产生错误
</p>
<p style="text-indent:2em;">
	SSL的算法攻击 只要一台笔记本就可以让公司瘫痪 密码也属于一种可输入区域
</p>
<p style="text-indent:2em;">
	现在dz 可以用腾讯的API 绑定登入 这里密码安全就直接转交第3方了
</p>
<p style="text-indent:2em;">
	然而安全还不在这里 假如Api出现漏洞依然可以绕过密码验证
</p>
<p style="text-indent:2em;">
	密码不是绝对安全的 想要安全 怎样的强大加密的密匙hash 都是不够的 而是验证体制这个整体
</p>
<p style="text-indent:2em;">
	anlfi (1级) ??????????????????????????... 2013-07-15 8楼
</p>
<p style="text-indent:2em;">
	显然有点片面 期待下一篇吧 如果能构成一个系统模式才算是成功哦呵呵~
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-15
</p>
<p style="text-indent:2em;">
	@anlfi 欢迎阐明“不片面”是什么样子，呵呵，符合本文主题的不片面的部分，我可以委托编辑补充进来。本文不是在说密码学，也不是有说密码安全的完整体系，至少还没谈到密码的传输安全。一步一步来吧。
</p>
<p style="text-indent:2em;">
	打酱油 2013-07-16 9楼
</p>
<p style="text-indent:2em;">
	什么时候我们的密码才是中文的呢？？？？？？？？？？？？
</p>
<p style="text-indent:2em;">
	jiayzhan (5级) 硅谷某知名IT企业中国区高级应用安全工程师 2013-07-16
</p>
<p style="text-indent:2em;">
	@打酱油 密码通常本就可以是中文的，只是应用实现时候限制了它的范围，原因有多种了，其中比较重要的原因就是避免输入设备无法输入问题，比如银行柜台输入终端。
</p>
<p style="text-indent:2em;">
	打酱油 2013-07-16 10楼
</p>
<p style="text-indent:2em;">
	来个MD5的，http://www.cngrayhat.org/archives/81
</p>
    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">jiayzhan</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2013-07-16
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a href="https://lcx.cc/" target="_blank">Nuclear'Atk（核攻击）网络安全实验室</a>版权所有，转载请注明出处。</span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://lcx.cc/tags/%E5%AE%89%E5%85%A8/">安全</a>
          <a href="https://lcx.cc/tags/%E4%BF%9D%E6%8A%A4/">保护</a>
          <a href="https://lcx.cc/tags/%E5%AF%86%E7%A0%81/">密码</a>
          <a href="https://lcx.cc/tags/hash/">Hash</a>
          <a href="https://lcx.cc/tags/http/">HTTP</a>
          <a href="https://lcx.cc/tags/ie/">IE</a>
          <a href="https://lcx.cc/tags/md5/">MD5</a>
          <a href="https://lcx.cc/tags/sha256/">Sha256</a>
          <a href="https://lcx.cc/tags/ssl/">SSL</a>
          <a href="https://lcx.cc/tags/%E6%B5%8B%E8%AF%95/">测试</a>
          <a href="https://lcx.cc/tags/%E6%9F%A5%E8%AF%A2/">查询</a>
          <a href="https://lcx.cc/tags/%E7%A8%8B%E5%BA%8F/">程序</a>
          <a href="https://lcx.cc/tags/%E4%BB%A3%E7%90%86/">代理</a>
          <a href="https://lcx.cc/tags/%E4%BB%A3%E7%A0%81/">代码</a>
          <a href="https://lcx.cc/tags/%E6%9C%8D%E5%8A%A1/">服务</a>
          <a href="https://lcx.cc/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/">服务器</a>
          <a href="https://lcx.cc/tags/%E5%B7%A5%E7%A8%8B%E5%B8%88/">工程师</a>
          <a href="https://lcx.cc/tags/%E6%94%BB%E5%87%BB/">攻击</a>
          <a href="https://lcx.cc/tags/%E9%BB%91%E5%AE%A2/">黑客</a>
          <a href="https://lcx.cc/tags/%E5%90%8E%E5%8F%B0/">后台</a>
          <a href="https://lcx.cc/tags/%E7%BC%93%E5%86%B2%E5%8C%BA/">缓冲区</a>
          <a href="https://lcx.cc/tags/%E5%8A%A0%E5%AF%86/">加密</a>
          <a href="https://lcx.cc/tags/%E8%A7%A3%E5%AF%86/">解密</a>
          <a href="https://lcx.cc/tags/%E6%BC%8F%E6%B4%9E/">漏洞</a>
          <a href="https://lcx.cc/tags/%E9%80%86%E5%90%91/">逆向</a>
          <a href="https://lcx.cc/tags/%E4%BC%81%E4%B8%9A/">企业</a>
          <a href="https://lcx.cc/tags/%E8%BA%AB%E4%BB%BD/">身份</a>
          <a href="https://lcx.cc/tags/%E4%BA%8B%E4%BB%B6/">事件</a>
          <a href="https://lcx.cc/tags/%E6%95%B0%E6%8D%AE/">数据</a>
          <a href="https://lcx.cc/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
          <a href="https://lcx.cc/tags/%E7%AE%97%E6%B3%95/">算法</a>
          <a href="https://lcx.cc/tags/%E8%AE%A8%E8%AE%BA/">讨论</a>
          <a href="https://lcx.cc/tags/%E7%BD%91%E7%BB%9C/">网络</a>
          <a href="https://lcx.cc/tags/%E9%97%AE%E9%A2%98/">问题</a>
          <a href="https://lcx.cc/tags/%E7%B3%BB%E7%BB%9F/">系统</a>
          <a href="https://lcx.cc/tags/%E5%8D%8F%E8%AE%AE/">协议</a>
          <a href="https://lcx.cc/tags/%E7%9B%90/">盐</a>
          <a href="https://lcx.cc/tags/%E6%BA%A2%E5%87%BA/">溢出</a>
          <a href="https://lcx.cc/tags/%E8%BF%9C%E7%A8%8B/">远程</a>
          <a href="https://lcx.cc/tags/%E4%B8%AD%E5%9B%BD/">中国</a>
          <a href="https://lcx.cc/tags/%E6%B3%A8%E5%85%A5/">注入</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/3724/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">传输层攻击方式汇总解析</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/3722/">
            <span class="next-text nav-default">[分析]Mac恶意软件使用Right-to-left override技巧</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:root@lcx.cc" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="/" rel="me noopener" class="iconfont"
      title="linkedin"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="33" height="33">
  <path d="M872.405333 872.618667h-151.637333v-237.610667c0-56.661333-1.152-129.578667-79.018667-129.578667-79.061333 0-91.136 61.653333-91.136 125.397334v241.792H398.976V384h145.664v66.602667h1.962667c20.352-38.4 69.845333-78.933333 143.786666-78.933334 153.642667 0 182.058667 101.12 182.058667 232.746667v268.202667zM227.712 317.141333a87.978667 87.978667 0 0 1-88.021333-88.106666 88.064 88.064 0 1 1 88.021333 88.106666z m76.032 555.477334H151.68V384h152.064v488.618667zM948.266667 0H75.562667C33.792 0 0 33.024 0 73.770667v876.458666C0 991.018667 33.792 1024 75.562667 1024h872.576C989.866667 1024 1024 991.018667 1024 950.229333V73.770667C1024 33.024 989.866667 0 948.138667 0h0.128z"></path>
</svg>

    </a>
  
    <a href="/" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>
  
    <a href="/" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>
  
    <a href="/" rel="me noopener" class="iconfont"
      title="douban"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M926.917973 37.80608C959.65184 37.80608 986.19392 64.34816 986.19392 97.082027L986.19392 926.917973C986.19392 959.65184 959.65184 986.19392 926.917973 986.19392L97.082027 986.19392C64.34816 986.19392 37.80608 959.65184 37.80608 926.917973L37.80608 97.082027C37.80608 64.34816 64.34816 37.80608 97.082027 37.80608zM176.653653 176.19968 176.653653 252.678827 825.658027 252.678827 825.658027 176.19968zM217.719467 316.146347 217.719467 628.08064 273.524053 628.08064 341.292373 770.39616 157.259093 770.39616 157.259093 845.417813 842.949973 845.417813 842.949973 770.39616 654.226773 770.39616 722.899627 628.08064 783.67744 628.08064 783.67744 316.146347zM684.885333 392.891733 684.885333 553.987413 312.576 553.987413 312.576 392.891733zM570.770773 770.39616 426.653013 770.39616 359.621973 628.08064 639.443627 628.08064z"></path>
</svg>

    </a>


<a href="https://lcx.cc/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">

  

  <span class="copyright-year">
    &copy;
    
      2010 -
    2025
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Nuclear'Atk（核攻击）网络安全实验室
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>






<script id="baidu_analytics">
  var _hmt = _hmt || [];
  (function() {
    if (window.location.hostname === 'localhost') return;
    var hm = document.createElement("script"); hm.async = true;
    hm.src = "https://hm.baidu.com/hm.js?90a2a7fb2c0fa46d3747ec9668f12a39";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>

<script id="baidu_push">
  (function(){
    if (window.location.hostname === 'localhost') return;
    var bp = document.createElement('script'); bp.async = true;
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>



  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  














  <script src="/js/my.js"></script>


</body>
</html>
