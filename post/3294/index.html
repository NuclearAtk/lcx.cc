<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>一种可能的新的漏洞类型：大量并发连接可能导致数据库重复查询同一条件 - Nuclear&#39;Atk（核攻击）网络安全实验室</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="乌云众生" /><meta name="description" content="一种可能的新的漏洞类型：大量并发连接可能导致数据库重复查询同一条件。就是说系统可能给你个code，用于你兑奖买东西什么的，但是这个是一次有效的，用了就在数据库里设置无效，但是呢，假设同时来100个请求，这100个请求几乎同时到达webserver，同时到达php，但是因为更新数据库需要时间，所以其中很可能有20个请求执行的时候数据库里的code因为更新不及时都是有效的，所以呢就导致coin的重复增加了，这特别是在后面的数据库逻辑较为复杂的时候更容易出现。" />
<meta name="keywords" content="一种可能的新的漏洞类型：大量并发连接可能导致数据库重复查询同一条件" />



<meta name="baidu-site-verification" content="GSIJv096Bu" />



<meta name="generator" content="Hugo 0.82.0" />


<link rel="canonical" href="https://lcx.cc/post/3294/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="一种可能的新的漏洞类型：大量并发连接可能导致数据库重复查询同一条件" />
<meta property="og:description" content="一种可能的新的漏洞类型：大量并发连接可能导致数据库重复查询同一条件。就是说系统可能给你个code，用于你兑奖买东西什么的，但是这个是一次有效的，用了就在数据库里设置无效，但是呢，假设同时来100个请求，这100个请求几乎同时到达webserver，同时到达php，但是因为更新数据库需要时间，所以其中很可能有20个请求执行的时候数据库里的code因为更新不及时都是有效的，所以呢就导致coin的重复增加了，这特别是在后面的数据库逻辑较为复杂的时候更容易出现。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lcx.cc/post/3294/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2013-01-21T14:21:15&#43;08:00" />
<meta property="article:modified_time" content="2014-01-02T11:25:46&#43;08:00" />

<meta itemprop="name" content="一种可能的新的漏洞类型：大量并发连接可能导致数据库重复查询同一条件">
<meta itemprop="description" content="一种可能的新的漏洞类型：大量并发连接可能导致数据库重复查询同一条件。就是说系统可能给你个code，用于你兑奖买东西什么的，但是这个是一次有效的，用了就在数据库里设置无效，但是呢，假设同时来100个请求，这100个请求几乎同时到达webserver，同时到达php，但是因为更新数据库需要时间，所以其中很可能有20个请求执行的时候数据库里的code因为更新不及时都是有效的，所以呢就导致coin的重复增加了，这特别是在后面的数据库逻辑较为复杂的时候更容易出现。"><meta itemprop="datePublished" content="2013-01-21T14:21:15&#43;08:00" />
<meta itemprop="dateModified" content="2014-01-02T11:25:46&#43;08:00" />
<meta itemprop="wordCount" content="5717">
<meta itemprop="keywords" content="查询,漏洞,数据,数据库,DDOS,Dos,HTTP,IE,Java,QQ,SQL,Struts,XSS,安全,程序,代码,多线程,服务,服务器,攻击,后台,全球,锁,问题,乌云,系统,游戏,云," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="一种可能的新的漏洞类型：大量并发连接可能导致数据库重复查询同一条件"/>
<meta name="twitter:description" content="一种可能的新的漏洞类型：大量并发连接可能导致数据库重复查询同一条件。就是说系统可能给你个code，用于你兑奖买东西什么的，但是这个是一次有效的，用了就在数据库里设置无效，但是呢，假设同时来100个请求，这100个请求几乎同时到达webserver，同时到达php，但是因为更新数据库需要时间，所以其中很可能有20个请求执行的时候数据库里的code因为更新不及时都是有效的，所以呢就导致coin的重复增加了，这特别是在后面的数据库逻辑较为复杂的时候更容易出现。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Nuclear'Atk</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/">友链</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/%E5%85%B3%E4%BA%8E/">关于</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Nuclear'Atk
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/">友链</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/%E5%85%B3%E4%BA%8E/">关于</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">一种可能的新的漏洞类型：大量并发连接可能导致数据库重复查询同一条件</h1>
      
      <div class="post-meta">
        <time datetime="2013-01-21" class="post-time">
          2013-01-21
        </time>
        <div class="post-category">
            <a href="https://lcx.cc/categories/%E8%80%81%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AE%B9/"> 老系统内容 </a>
            <a href="https://lcx.cc/categories/%E6%9F%A5%E8%AF%A2/"> 查询 </a>
            <a href="https://lcx.cc/categories/%E6%BC%8F%E6%B4%9E/"> 漏洞 </a>
            <a href="https://lcx.cc/categories/%E6%95%B0%E6%8D%AE/"> 数据 </a>
            <a href="https://lcx.cc/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"> 数据库 </a>
            
          </div>
        <span class="more-meta"> 约 5717 字 </span>
          <span class="more-meta"> 预计阅读 12 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    
  </div>
</div>

    
    <div class="post-content">
      
<p style="text-indent:2em;">
	一种可能的新的漏洞类型
</p>
<p style="text-indent:2em;">
	xsser (十根阳具有长短!!) | 2013-01-21 11:15
</p>
<p style="text-indent:2em;">
	这个问题切实存在的，本人经历过
</p>
<pre class="prettyprint lang-php">if($code=='xxxxx'){ 
.... 
updatecoin(); 
updatecode(); 
.... 

}else{ 
exit(); 
}</pre>
<p style="text-indent:2em;">
	就是说系统可能给你个code，用于你兑奖买东西什么的，但是这个是一次有效的，用了就在数据库里设置无效，但是呢，假设同时来100个请求，这100个请求几乎同时到达webserver，同时到达php，但是因为更新数据库需要时间，所以其中很可能有20个请求执行的时候数据库里的code因为更新不及时都是有效的，所以呢就导致coin的重复增加了，这特别是在后面的数据库逻辑较为复杂的时候更容易出现
</p>
<hr />
<p style="text-indent:2em;">
	1#
</p>
<p style="text-indent:2em;">
	c4bbage | 2013-01-21 11:17
</p>
<p style="text-indent:2em;">
	YD
</p>
<p style="text-indent:2em;">
	2#
</p>
<p style="text-indent:2em;">
	shine (shield) | 2013-01-21 11:18
</p>
<p style="text-indent:2em;">
	...，难道你不知道有一个叫“线程安全”的安全问题吗？
</p>
<p style="text-indent:2em;">
	3#
</p>
<p style="text-indent:2em;">
	小胖胖要减肥 | 2013-01-21 11:19
</p>
<p style="text-indent:2em;">
	以后兑换的时候可以多线程跑下 家里就10m贷款估计跑不了那么多
</p>
<p style="text-indent:2em;">
	4#
</p>
<p style="text-indent:2em;">
	xsser (十根阳具有长短!!) | 2013-01-21 11:20
</p>
<p style="text-indent:2em;">
	@shine 来聊聊嘛
</p>
<p style="text-indent:2em;">
	5#
</p>
<p style="text-indent:2em;">
	horseluke (微碌) | 2013-01-21 11:28
</p>
<p style="text-indent:2em;">
	web的并发问题？
</p>
<p style="text-indent:2em;">
	6#
</p>
<p style="text-indent:2em;">
	小胖胖要减肥 | 2013-01-21 11:34
</p>
<p style="text-indent:2em;">
	@shine 科普了 对于不做开发的很多东西基本一无所知
</p>
<p style="text-indent:2em;">
	7#
</p>
<p style="text-indent:2em;">
	Clar | 2013-01-21 11:34
</p>
<p style="text-indent:2em;">
	同时的难度有点大，毕竟总有个先来后到。除非数据库那边更新速度跟不上流程了
</p>
<p style="text-indent:2em;">
	8#
</p>
<p style="text-indent:2em;">
	xsser (十根阳具有长短!!) | 2013-01-21 11:35
</p>
<p style="text-indent:2em;">
	@Clar 事实上是可以的，几毫秒不算事儿
</p>
<p style="text-indent:2em;">
	9#
</p>
<p style="text-indent:2em;">
	GaRY | 2013-01-21 11:36
</p>
<p style="text-indent:2em;">
	sae的线程操作原子性不是应该数据库接口自身保证么?你如果发现这个问题可以报告sae了.读写锁不同步
</p>
<p style="text-indent:2em;">
	10#
</p>
<p style="text-indent:2em;">
	小囧 ('';!--"&lt;XSS&gt;=&amp;{()}) | 2013-01-21 11:38
</p>
<p style="text-indent:2em;">
	我写代码的时候也有过这样的困惑， 特别是数据库负载均衡的时候&nbsp;&nbsp;&nbsp; 中间还有个主从同步的时间。 你查的是从库&nbsp;&nbsp; 更新的是主库。&nbsp;&nbsp;&nbsp;&nbsp; 严重关注中。。。。
</p>
<p style="text-indent:2em;">
	11#
</p>
<p style="text-indent:2em;">
	无敌L.t.H | 2013-01-21 11:39
</p>
<p style="text-indent:2em;">
	这种不一定，毕竟有队列，有事务去控制，看上去是并发但是服务器不看作并发。
</p>
<p style="text-indent:2em;">
	12#
</p>
<p style="text-indent:2em;">
	波波虎 ( ) | 2013-01-21 11:46
</p>
<p style="text-indent:2em;">
	应该设计应该需要考虑并发问题，做幂等性测试，存在此类问题的应用应该也比较多，程序员设计时未考虑好并发
</p>
<p style="text-indent:2em;">
	13#
</p>
<p style="text-indent:2em;">
	Jannock (what?) | 2013-01-21 11:51
</p>
<p style="text-indent:2em;">
	线程安全确实也是个问题，遇到也多了。。
</p>
<p style="text-indent:2em;">
	14#
</p>
<p style="text-indent:2em;">
	Jannock (what?) | 2013-01-21 11:52
</p>
<p style="text-indent:2em;">
	不过实际中，利用估计不好利用。。。一般出错了，很容易查出。
</p>
<p style="text-indent:2em;">
	15#
</p>
<p style="text-indent:2em;">
	horseluke (微碌) | 2013-01-21 11:52
</p>
<p style="text-indent:2em;">
	突然想起@蟋蟀哥哥 ，他对这个有研究，因为以前他在OSChina上提过打重负荷的业务页面引发ddos，使得首页正常、但网站实质不可用
</p>
<p style="text-indent:2em;">
	16#
</p>
<p style="text-indent:2em;">
	Errorera | 2013-01-21 11:56
</p>
<p style="text-indent:2em;">
	一种新的ddos？比如一个收藏夹功能 一个url就会请求一次，一个IP同时添加一千个url就会请求1000次 大量请求很容易就搞挂了服务器吧
</p>
<p style="text-indent:2em;">
	17#
</p>
<p style="text-indent:2em;">
	小胖胖要减肥 | 2013-01-21 11:59
</p>
<p style="text-indent:2em;">
	@Errorera @horseluke 就是对某个弱请求点发动cc攻击，最好手里还有一堆ip
</p>
<p style="text-indent:2em;">
	18#
</p>
<p style="text-indent:2em;">
	pentest | 2013-01-21 12:01
</p>
<p style="text-indent:2em;">
	@horseluke&nbsp; 这属于cc了吧
</p>
<p style="text-indent:2em;">
	19#
</p>
<p style="text-indent:2em;">
	Errorera | 2013-01-21 12:02
</p>
<p style="text-indent:2em;">
	@小胖胖要减肥 亲身体验看到过运维处理这个问题的。即使能够利用这个弱点也是临时的，靠着POST日志 专业的团队在3分钟就分析出了问题所在
</p>
<p style="text-indent:2em;">
	20#
</p>
<p style="text-indent:2em;">
	erevus | 2013-01-21 12:05
</p>
<p style="text-indent:2em;">
	我想到了DDOS 可是...这种DDOS只能生效一次,可能只会导致服务器瞬间的CPU负荷增加吧,
</p>
<p style="text-indent:2em;">
	21#
</p>
<p style="text-indent:2em;">
	shine (shield) | 2013-01-21 12:45
</p>
<p style="text-indent:2em;">
	@xsser ^-^ ，好吧！随便说说啊（有些问题可能不准确）！由于一些语言的特性，有多线程机制，这样可以提高运行效率（有更多机会去抢占cpu的运行时间，因为cpu有个运行时间片（每个线程都只能固定运行一段时间，这个就不多说了。），在计算机基础中，应该都学过，cpu线程机的同步锁机制解决这个问题）。
</p>
<p style="text-indent:2em;">
	例如：Java语言也有多线程特性，在早期的Struts框架中（这里是指Struts1），由于是使用一个servlet实例控制所有访问，所以有个线程安全的问题。
</p>
<p style="text-indent:2em;">
	而在Struts2框架中改变了，使用拦截方式，一个访问对应创建一份实例。但不是说就能彻底解决这个问题，在局部代码区内，可能还是能发生类似情况，线程安全对于一般的开发者确实很难控制！
</p>
<p style="text-indent:2em;">
	这里我们模拟一个卖票系统，就说铁道部卖火车票的场景：
</p>
<p style="text-indent:2em;">
	假设：铁道部一共有100张票，10个窗口卖，如果第100张，同时被其中的两个窗口卖出，这样总票数是不是会出现-1张的情况（因为每卖出几张，总剩余票数会相应减去对应数字。）。所以这里Java引入了一个同步锁机制的关键字（synchronized），当有窗口要卖票时，就锁住这个总剩余票数，不允许其他窗口访问，卖完后再解开这个锁，别的窗口再进来卖！
</p>
<p style="text-indent:2em;">
	或者，另一个转帐场景，我们知道，转帐可以简单分两步：一个帐号减少（A帐号），另一个帐号增加（B帐号）。
</p>
<p style="text-indent:2em;">
	假设：当A帐号减少了相应金额这一时刻，突然ATM机断电了，是不是B帐号上的钱还没来得及增加？导致异步执行的安全问题！
</p>
<p style="text-indent:2em;">
	假设转换sql执行（当然，银行肯定不是这样的。）我们在Java中可以把JDBC sql提交自动执行改为手动提交con.setAutoCommit(false);也就是数据添加时的事务处理这个问题！
</p>
<p style="text-indent:2em;">
	简单代码实例：
</p>
<pre class="prettyprint lang-php">try{
con.setAutoCommit(false);
sql1:A帐号减少金额
sql2:B帐号增加金额
con.commit();//手动提交
}catch (Exception  e) {
e.printStackTrace();
conn.rollback();//遇到异常，数据回滚。
}</pre>
<p style="text-indent:2em;">
	问题简单的描述就是：多线程（异步）造成的变量覆盖（或异步执行不完整）等情况而引发的安全问题！
</p>
<p style="text-indent:2em;">
	不过，楼主预测应该是对的，哥也目测一下，以当前电商对安全的实施程度，这个问题应该是泛滥！
</p>
<p style="text-indent:2em;">
	22#
</p>
<p style="text-indent:2em;">
	xsser (十根阳具有长短!!) | 2013-01-21 13:02
</p>
<p style="text-indent:2em;">
	@shine 的确在数据库层面会考虑这个安全性，但是如果不使用存储过程的话，在语言层面是比较难保证这个问题的吧？
</p>
<p style="text-indent:2em;">
	23#
</p>
<p style="text-indent:2em;">
	horseluke (微碌) | 2013-01-21 13:06
</p>
<p style="text-indent:2em;">
	@xsser 现在不是有种趋势说不搞存储过程咩，说搞存储过程不好作业务调整...
</p>
<p style="text-indent:2em;">
	24#
</p>
<p style="text-indent:2em;">
	xsser (十根阳具有长短!!) | 2013-01-21 13:11
</p>
<p style="text-indent:2em;">
	@horseluke 那我就只能呵呵了
</p>
<p style="text-indent:2em;">
	25#
</p>
<p style="text-indent:2em;">
	shine (shield) | 2013-01-21 13:12
</p>
<p style="text-indent:2em;">
	@xsser 在这里不是否定一些预防机制啊！说句实话，不管如何做它还是能出现，只是场景复杂度或几率多少的问题（也就是理论上还是能够发生），很难发现！
</p>
<p style="text-indent:2em;">
	26#感谢(1)
</p>
<p style="text-indent:2em;">
	小胖子 (z7y是我的，你们谁也不准抢~) | 2013-01-21 13:17
</p>
<p style="text-indent:2em;">
	这种以前想到过 同步并发线程，只是没实现过、。
</p>
<p style="text-indent:2em;">
	27#
</p>
<p style="text-indent:2em;">
	shine (shield) | 2013-01-21 13:30
</p>
<p style="text-indent:2em;">
	@xsser 不是说以后（特别是云计算到来）数据存储的趋势是NoSQL吗？NoSQL有存储过程这玩意没？
</p>
<p style="text-indent:2em;">
	28#
</p>
<p style="text-indent:2em;">
	shine (shield) | 2013-01-21 13:46
</p>
<p style="text-indent:2em;">
	@xsser 乌云提交漏洞时，不是也有个类似问题吗？
</p>
<p style="text-indent:2em;">
	在网络延迟提交时，如果用户多点几下按钮，会导致重复提交，你是如何修复的？
</p>
<p style="text-indent:2em;">
	29#
</p>
<p style="text-indent:2em;">
	小胖胖要减肥 | 2013-01-21 13:51
</p>
<p style="text-indent:2em;">
	@shine 剑心手工啊，不是有过重复的情况，现在大多还是要审核的，小部分重复么再删掉一个
</p>
<p style="text-indent:2em;">
	30#
</p>
<p style="text-indent:2em;">
	Nimda (吃你的麻花去吧) | 2013-01-21 13:53
</p>
<p style="text-indent:2em;">
	玩网游加血的时候，快速单击红药，可以短时间内忽略红药CD，是这个意思不 @xsser
</p>
<p style="text-indent:2em;">
	31#
</p>
<p style="text-indent:2em;">
	xsser (十根阳具有长短!!) | 2013-01-21 13:59
</p>
<p style="text-indent:2em;">
	@Nimda 这位精辟！
</p>
<p style="text-indent:2em;">
	32#
</p>
<p style="text-indent:2em;">
	一刀终情 ((这个怎么实现的呢？) ?(1314520)) | 2013-01-21 14:02
</p>
<p style="text-indent:2em;">
	@xsser 实测可行的，06年左右，上学那会儿，一张移动充值卡，同时多人用电话充值，最后同时按#确认，有机会同时充值2个以上，几率还不小
</p>
<p style="text-indent:2em;">
	33#
</p>
<p style="text-indent:2em;">
	<a href="https://lcx.cc/" target="_blank">核攻击</a> (统治全球，奴役全人类！毁灭任何胆敢阻拦的有机生物！) | 2013-01-21 14:05
</p>
<p style="text-indent:2em;">
	这种问题只存在于提交指令后直接查询数据库的情况下。
</p>
<p style="text-indent:2em;">
	很容易解决的。。。
</p>
<p style="text-indent:2em;">
	高级方案：
</p>
<p style="text-indent:2em;">
	1、用户提交查询数据
</p>
<p style="text-indent:2em;">
	2、服务器端接收到请求后，将其加入一个任务表（按顺序排列）。
</p>
<p style="text-indent:2em;">
	3、一个单独的后台的处理程序，遍历任务表，挨个执行任务，然后将执行结果通知到用户。
</p>
<p style="text-indent:2em;">
	这样的话，你如果重复提交，只会在任务表重复添加数个任务，而由于任务表是挨个执行的，所以即使有大量重复任务，也不会存在什么同时写入数据库的情况，治根。
</p>
<p style="text-indent:2em;">
	这种的已经普遍应用了，例如电商的下订单系统，用户下订单后，并非立即执行，而是加入后台任务表，挨个处理后，再告诉用户订单是否成功。
</p>
<p style="text-indent:2em;">
	轻量级用法，例如 Asp 的：
</p>
<p style="text-indent:2em;">
	Application.Lock
</p>
<p style="text-indent:2em;">
	Application.UnLock
</p>
<p style="text-indent:2em;">
	推荐阅读：<a href="https://lcx.cc/post/2149/" target="_blank">由12306.cn谈谈网站性能技术</a> 
</p>
<p style="text-indent:2em;">
	“B2C的电商基本上都会把这个事干成异步的，也就是说，你下的订单并不是马上处理的，而是延时处理的，只有成功处理了，系统才会给你一封确认邮件说是订单成功。”
</p>
<p style="text-indent:2em;">
	34#
</p>
<p style="text-indent:2em;">
	livers (如梦似幻) | 2013-01-21 14:08
</p>
<p style="text-indent:2em;">
	我来补充一点。&nbsp; 到系统底层 最小的操作就是原子操作 在汇编里面即LOCK 指令，这种操作就是不会被其他线程打断，就是CPU会一口气执行完成。 当然这是在单CPU 多CPU操作要用到原子锁。（显卡里面多线程原子操作不太一样）这是底层，到了应用层就是层层封装底层的原子锁操作，为了避免 类似哲学家就餐这样的死锁出现，设计出了互斥变量 接着就是shine 那一段。
</p>
<p style="text-indent:2em;">
	35#
</p>
<p style="text-indent:2em;">
	<a href="https://lcx.cc/" target="_blank">核攻击</a> (统治全球，奴役全人类！毁灭任何胆敢阻拦的有机生物！) | 2013-01-21 14:09
</p>
<p style="text-indent:2em;">
	还有啊，这个不是什么“新型漏洞”，而很古老的同步查询数据一致性问题……
</p>
<p style="text-indent:2em;">
	36#
</p>
<p style="text-indent:2em;">
	livers (如梦似幻) | 2013-01-21 14:12
</p>
<p style="text-indent:2em;">
	@shine NoSQL 只是key-value的存储方式，无法替代关系数据库
</p>
<p style="text-indent:2em;">
	37#
</p>
<p style="text-indent:2em;">
	咚咚呛 (邪恶的瞅瞅！！) | 2013-01-21 14:13
</p>
<p style="text-indent:2em;">
	脑子瞬间涌现出 事件 互斥 向量。。。
</p>
<p style="text-indent:2em;">
	38#
</p>
<p style="text-indent:2em;">
	shine (shield) | 2013-01-21 14:29
</p>
<p style="text-indent:2em;">
	@<a href="https://lcx.cc/" target="_blank">核攻击</a> 安全问题与安全漏洞应该还是有区别的，只是“新型漏洞”的本质是你所说的安全问题造成的！
</p>
<p style="text-indent:2em;">
	39#
</p>
<p style="text-indent:2em;">
	leehenwu (关注安全) | 2013-01-21 14:55
</p>
<p style="text-indent:2em;">
	很多这种情况 有的秒杀也会出现多单的情况
</p>
<p style="text-indent:2em;">
	40#
</p>
<p style="text-indent:2em;">
	xsser (十根阳具有长短!!) | 2013-01-21 15:04
</p>
<p style="text-indent:2em;">
	@<a href="https://lcx.cc/" target="_blank">核攻击</a> 我是觉得乌云上没发现这案例撒
</p>
<p style="text-indent:2em;">
	41#
</p>
<p style="text-indent:2em;">
	斯文的鸡蛋 (以前在网上，没人知道你是一条狗；现在在网上，狗都知) | 2013-01-21 17:20
</p>
<p style="text-indent:2em;">
	@xsser 那可以预感今年会出现了
</p>
<p style="text-indent:2em;">
	42#
</p>
<p style="text-indent:2em;">
	_Evil (HackEnd) | 2013-01-21 17:59
</p>
<p style="text-indent:2em;">
	@xsser 饭卡两边打一边扣钱;最简单的线程了..
</p>
<p style="text-indent:2em;">
	43#
</p>
<p style="text-indent:2em;">
	_Evil (HackEnd) | 2013-01-21 17:59
</p>
<p style="text-indent:2em;">
	@xsser http://zone.wooyun.org/content/526
</p>
<p style="text-indent:2em;">
	44#
</p>
<p style="text-indent:2em;">
	px1624 | 2013-01-21 18:47
</p>
<p style="text-indent:2em;">
	这个不就是当年qq牧场的卡位bug么、、、配合鼠标电击器和变速齿轮，那是刚刚的啊
</p>
<p style="text-indent:2em;">
	45#
</p>
<p style="text-indent:2em;">
	lake2 (浮夸) | 2013-01-21 19:43
</p>
<p style="text-indent:2em;">
	用事务型开发就可以规避吧
</p>
<p style="text-indent:2em;">
	46#
</p>
<p style="text-indent:2em;">
	蟋蟀哥哥 (popok是孙子!![just for fun]) | 2013-01-22 09:52
</p>
<p style="text-indent:2em;">
	@xsser 我也认为这是安全问题，而不是漏洞。特别是在电商这些等，有库存系统内。对这种“锁”是必须的。
</p>
<p style="text-indent:2em;">
	但是这种“锁”又容易引起DOS的问题。。比如目前本人管理的一套系统中，数据库是oracle的。但是某一张表是大家共用的(关于库存类的表)，并且有“锁”。如果出现并发炒作(比如同时发某一人的货)，就会出现死锁的问题。导致整个系统不能用使用。。
</p>
<p style="text-indent:2em;">
	只要稍加利用，就可以针对该安全问题发动DOS攻击。。当然，这种问题还需要自己业务上配合才能造成。。
</p>
<p style="text-indent:2em;">
	锁这个问题的存在，在数据不是很重要的业务中无所谓，比如你在头顶上说的code，如果是某游戏的推广码，重复就重复了，无所谓的。。但是，在特定的业务下是非常纠结了。。。
</p>
<p style="text-indent:2em;">
	@horseluke 上次我说的那个DDOS，前台不垮，后台瘫痪。主要是因为服务器有缓存，对方把我Mysql搞瘫痪了，但是我的前台是正常的。和今天讨论的这个话题没有什么关系。
</p>
<p style="text-indent:2em;">
	47#
</p>
<p style="text-indent:2em;">
	园长 (你在身边就是缘，缘分写在数据库里面。) | 2013-01-22 10:17
</p>
<p style="text-indent:2em;">
	多线程，线程同步。还比银行转账.
</p>
<p style="text-indent:2em;">
	48#
</p>
<p style="text-indent:2em;">
	shine (shield) | 2013-01-22 10:48
</p>
<p style="text-indent:2em;">
	@蟋蟀哥哥&nbsp; 楼主可能有现实主义情节，想把它变成一个漏洞。因为有些时候，一个漏洞，在现实中可能很难利用，危害甚至很难出现，但我们还是把它当成一个安全漏洞对待；而有些安全问题，在现实中危害表现得很严重，却得不到漏洞待遇！
</p>
<p style="text-indent:2em;">
	@园长 注意最后总结，是对应楼主说的两个不同问题的场景（虽然我们可以把它们当成一个概念去理解，但线程与异步执行严格来讲还是有点区别的）！
</p>
<p style="text-indent:2em;">
	49#
</p>
<p style="text-indent:2em;">
	蟋蟀哥哥 (popok是孙子!![just for fun]) | 2013-01-22 11:44
</p>
<p style="text-indent:2em;">
	@shine 关键是出一个实例才行，并且要真实的威胁到了数据安全。应该才能定位为漏洞。。
</p>
<p style="text-indent:2em;">
	当然，由于代码的原因，在高并发的时候暴露服务器路径一般来说还是环境设置的问题。没有关闭直接报错。
</p>
<p style="text-indent:2em;">
	50#
</p>
<p style="text-indent:2em;">
	shine (shield) | 2013-01-22 11:57
</p>
<p style="text-indent:2em;">
	@xsser&nbsp; 楼主上洞吧！这个帐号快一年没在乌云提交漏洞了，也别顾及是什么应用的安全问题了。
</p>
<p style="text-indent:2em;">
	51#
</p>
<p style="text-indent:2em;">
	xsser (十根阳具有长短!!) | 2013-01-22 12:27
</p>
<p style="text-indent:2em;">
	@蟋蟀哥哥 我觉得相当威胁了 等于是变相的篡改啊
</p>
<p style="text-indent:2em;">
	52#
</p>
<p style="text-indent:2em;">
	shine (shield) | 2013-01-22 12:40
</p>
<p style="text-indent:2em;">
	@xsser 恩！对于简单的应用，应该没多大的威胁，因为能够快速发现问题所在并修正数据；
</p>
<p style="text-indent:2em;">
	但如果是一个，数据操作相互依赖且环节比较多的业务逻辑，如果发生的次数越多，恐怕就很难发现并修正错误数据了！
</p>
<p style="text-indent:2em;">
	觉得应该叫“数据准确性”好点吧（目前，这个安全问题从数据上考虑应该够了！）？
</p>
<p style="text-indent:2em;">
	53#
</p>
<p style="text-indent:2em;">
	蟋蟀哥哥 (popok是孙子!![just for fun]) | 2013-01-22 16:30
</p>
<p style="text-indent:2em;">
	@xsser 要给出案例啊。。而且高并发一般情况下，对敏感数据都是有考虑的
</p>
<p style="text-indent:2em;">
	54#
</p>
<p style="text-indent:2em;">
	horseluke (微碌) | 2013-01-22 23:45
</p>
<p style="text-indent:2em;">
	@shine@xsser 原来以前有人发过你们说的线程安全或者并发问题：http://zone.wooyun.org/content/526
</p>
<p style="text-indent:2em;">
	55#
</p>
<p style="text-indent:2em;">
	乱雪 (hi.baidu.com/lu4nx) | 2013-01-24 10:13
</p>
<p style="text-indent:2em;">
	这个可以用队列或者AMQP解决
</p>
<p style="text-indent:2em;">
	56#
</p>
<p style="text-indent:2em;">
	phantom | 2013-01-24 10:20
</p>
<p style="text-indent:2em;">
	这就是race condition的问题撒 不是新的漏洞类型撒
</p>
<p style="text-indent:2em;">
	57#
</p>
<p style="text-indent:2em;">
	gainover ("&gt;_&lt; ' / &amp; \ 看啥，没见过跨站字符么) | 2013-01-24 19:52
</p>
<p style="text-indent:2em;">
	@蟋蟀哥哥 案例还是有的啦，页游里出现的还是挺多的。用这个刷过腾讯某游戏的游戏B和抽奖。正常每天抽一次，俺每次都是10个并发，就能得到10个奖品。
</p>
<p style="text-indent:2em;">
	58#
</p>
<p style="text-indent:2em;">
	Passer_by (腾讯微博的Passer-by不是我) | 2013-01-25 09:41
</p>
<p style="text-indent:2em;">
	@gainover 我刷别的页游领新手包。。。。
</p>
<p style="text-indent:2em;">
	59#
</p>
<p style="text-indent:2em;">
	蟋蟀哥哥 (?????????????????????????) | 2013-01-25 12:26
</p>
<p style="text-indent:2em;">
	@gainover 。。私聊给我啊。。。啥游戏。。
</p>
<p style="text-indent:2em;">
	60#
</p>
<p style="text-indent:2em;">
	softbug (算了，我还是做好我自己的东西) | 2013-01-25 16:10
</p>
<p style="text-indent:2em;">
	安全和写程序最能结合 不会编码的安全工作者有时候问的问题很蛋疼
</p>
<p style="text-indent:2em;">
	61#
</p>
<p style="text-indent:2em;">
	whirlwind (息壤最大代理商，北京/香港不限内容云服务器，五线BGP/10兆独享/4千兆硬防，备案/可信，QQ493633628，海外服务器请联系Mujj-------------------------------------------------------无损音乐网 http://wusunyinyue.cn----------------------月色仍如昔，江上有归帆！-----------------------------) | 2013-02-14 21:07
</p>
<p style="text-indent:2em;">
	坑跌，好久之间就测试，到现在几年了，没成功过一个站
</p>
<p style="text-indent:2em;">
	62#
</p>
<p style="text-indent:2em;">
	陈再胜 (http://t.qq.com/mibboy求收听) | 2013-02-14 23:30
</p>
<p style="text-indent:2em;">
	线程安全的问题么？剑总说的我看不懂，看到上面的大概例子，大概知道了是类似于CC一样的东西······
</p>
<p style="text-indent:2em;">
	63#
</p>
<p style="text-indent:2em;">
	NiceWorm | 2013-02-15 18:18
</p>
<p style="text-indent:2em;">
	数据库事务...
</p>
<p style="text-indent:2em;">
	64#
</p>
<p style="text-indent:2em;">
	zeger | 2014-01-02 07:24
</p>
<p style="text-indent:2em;">
	@gainover 求并发WY思路··
</p>
<p style="text-indent:2em;">
	65#
</p>
<p style="text-indent:2em;">
	<a href="https://lcx.cc/" target="_blank">核攻击</a> (统治全球，奴役全人类！毁灭任何胆敢阻拦的有机生物！) | 2014-01-02 09:19
</p>
<p style="text-indent:2em;">
	楼上你干啥，挖坟？
</p>
<p style="text-indent:2em;">
	66#
</p>
<p style="text-indent:2em;">
	Coner | 2014-01-02 10:12
</p>
<p style="text-indent:2em;">
	这就相当于是在抢CGI和database的时间差啊
</p>
<p style="text-indent:2em;">
	<a href="http://zone.wooyun.org/content/2429" target="_blank">[浏览更多讨论]</a> 
</p>
<p><strong>留言评论（旧系统）：</strong></p>
<div style="max-height:600px;width:100%;overflow:auto;overflow-x:hidden;">
<blockquote id="3071,3294,111.73.77.63">
<p>Mr.V @ 2013-01-21 15:47:13</p>
<p style="text-indent:2em">运用高级方法 效率岂不是变低 原本输入即可显示的结果还要等系统排队做判定</p>
<p>本站回复：</p>
<p style="text-indent:2em">又没叫你全部都用队列方法啊，只是将一些敏感写入数据、有可能出现数据同步问题的地方使用，什么只读查询，直接查询就行了，效率不会有多低。</p>
</blockquote>
<blockquote id="3074,3294,125.88.24.55">
<p>佚名 @ 2013-01-21 21:11:13</p>
<p style="text-indent:2em">锁。。</p>
<p>本站回复：</p>
<p style="text-indent:2em">╮(╯_╰)╭</p>
</blockquote>
<blockquote id="3084,3294,183.141.205.89">
<p>[暂无回复] @ 2013-01-22 16:47:17</p>
<p style="text-indent:2em">警告：
你的访问频率太快，请不要快速刷新页面或者尝试 CC 攻击！
你的 IP 地址将于 3 秒后解封，在此期间你不能访问本站任何页面，届时本页面会自动刷新！</p>
<p>本站回复：</p>
<p style="text-indent:2em">卖萌可耻……　╮(╯_╰)╭</p>
</blockquote>
<blockquote id="3096,3294,67.134.207.198">
<p>safe121 @ 2013-01-23 13:12:40</p>
<p style="text-indent:2em">DZX2.0及之前的版本出现的问题。。多线程处理的时候出现的bug。。发回复的时候，服务器限制30秒一个帖子，你按的特别快，可以刷整整一页。。。</p>
<p>本站回复：</p>
<p style="text-indent:2em">典型的处理流程问题……</p>
</blockquote>
</div>
    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">乌云众生</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2014-01-02
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a href="https://lcx.cc/" target="_blank">Nuclear'Atk（核攻击）网络安全实验室</a>版权所有，转载请注明出处。</span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://lcx.cc/tags/%E6%9F%A5%E8%AF%A2/">查询</a>
          <a href="https://lcx.cc/tags/%E6%BC%8F%E6%B4%9E/">漏洞</a>
          <a href="https://lcx.cc/tags/%E6%95%B0%E6%8D%AE/">数据</a>
          <a href="https://lcx.cc/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
          <a href="https://lcx.cc/tags/ddos/">DDOS</a>
          <a href="https://lcx.cc/tags/dos/">Dos</a>
          <a href="https://lcx.cc/tags/http/">HTTP</a>
          <a href="https://lcx.cc/tags/ie/">IE</a>
          <a href="https://lcx.cc/tags/java/">Java</a>
          <a href="https://lcx.cc/tags/qq/">QQ</a>
          <a href="https://lcx.cc/tags/sql/">SQL</a>
          <a href="https://lcx.cc/tags/struts/">Struts</a>
          <a href="https://lcx.cc/tags/xss/">XSS</a>
          <a href="https://lcx.cc/tags/%E5%AE%89%E5%85%A8/">安全</a>
          <a href="https://lcx.cc/tags/%E7%A8%8B%E5%BA%8F/">程序</a>
          <a href="https://lcx.cc/tags/%E4%BB%A3%E7%A0%81/">代码</a>
          <a href="https://lcx.cc/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/">多线程</a>
          <a href="https://lcx.cc/tags/%E6%9C%8D%E5%8A%A1/">服务</a>
          <a href="https://lcx.cc/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/">服务器</a>
          <a href="https://lcx.cc/tags/%E6%94%BB%E5%87%BB/">攻击</a>
          <a href="https://lcx.cc/tags/%E5%90%8E%E5%8F%B0/">后台</a>
          <a href="https://lcx.cc/tags/%E5%85%A8%E7%90%83/">全球</a>
          <a href="https://lcx.cc/tags/%E9%94%81/">锁</a>
          <a href="https://lcx.cc/tags/%E9%97%AE%E9%A2%98/">问题</a>
          <a href="https://lcx.cc/tags/%E4%B9%8C%E4%BA%91/">乌云</a>
          <a href="https://lcx.cc/tags/%E7%B3%BB%E7%BB%9F/">系统</a>
          <a href="https://lcx.cc/tags/%E6%B8%B8%E6%88%8F/">游戏</a>
          <a href="https://lcx.cc/tags/%E4%BA%91/">云</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/3295/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">Inception能入侵全盘加密的计算机，修改物理机器内存/任意密码进入</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/3293/">
            <span class="next-text nav-default">Baidu Related Searches Crawler (百度相关搜索抓取工具) v1.0</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:root@lcx.cc" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="/" rel="me noopener" class="iconfont"
      title="linkedin"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="33" height="33">
  <path d="M872.405333 872.618667h-151.637333v-237.610667c0-56.661333-1.152-129.578667-79.018667-129.578667-79.061333 0-91.136 61.653333-91.136 125.397334v241.792H398.976V384h145.664v66.602667h1.962667c20.352-38.4 69.845333-78.933333 143.786666-78.933334 153.642667 0 182.058667 101.12 182.058667 232.746667v268.202667zM227.712 317.141333a87.978667 87.978667 0 0 1-88.021333-88.106666 88.064 88.064 0 1 1 88.021333 88.106666z m76.032 555.477334H151.68V384h152.064v488.618667zM948.266667 0H75.562667C33.792 0 0 33.024 0 73.770667v876.458666C0 991.018667 33.792 1024 75.562667 1024h872.576C989.866667 1024 1024 991.018667 1024 950.229333V73.770667C1024 33.024 989.866667 0 948.138667 0h0.128z"></path>
</svg>

    </a>
  
    <a href="/" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>
  
    <a href="/" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>
  
    <a href="/" rel="me noopener" class="iconfont"
      title="douban"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M926.917973 37.80608C959.65184 37.80608 986.19392 64.34816 986.19392 97.082027L986.19392 926.917973C986.19392 959.65184 959.65184 986.19392 926.917973 986.19392L97.082027 986.19392C64.34816 986.19392 37.80608 959.65184 37.80608 926.917973L37.80608 97.082027C37.80608 64.34816 64.34816 37.80608 97.082027 37.80608zM176.653653 176.19968 176.653653 252.678827 825.658027 252.678827 825.658027 176.19968zM217.719467 316.146347 217.719467 628.08064 273.524053 628.08064 341.292373 770.39616 157.259093 770.39616 157.259093 845.417813 842.949973 845.417813 842.949973 770.39616 654.226773 770.39616 722.899627 628.08064 783.67744 628.08064 783.67744 316.146347zM684.885333 392.891733 684.885333 553.987413 312.576 553.987413 312.576 392.891733zM570.770773 770.39616 426.653013 770.39616 359.621973 628.08064 639.443627 628.08064z"></path>
</svg>

    </a>


<a href="https://lcx.cc/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">

  

  <span class="copyright-year">
    &copy;
    
      2010 -
    2025
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Nuclear'Atk（核攻击）网络安全实验室
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>






<script id="baidu_analytics">
  var _hmt = _hmt || [];
  (function() {
    if (window.location.hostname === 'localhost') return;
    var hm = document.createElement("script"); hm.async = true;
    hm.src = "https://hm.baidu.com/hm.js?90a2a7fb2c0fa46d3747ec9668f12a39";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>

<script id="baidu_push">
  (function(){
    if (window.location.hostname === 'localhost') return;
    var bp = document.createElement('script'); bp.async = true;
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>



  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  














  <script src="/js/my.js"></script>


</body>
</html>
