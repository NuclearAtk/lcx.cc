<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>OSSEC 学习教程一 - Nuclear&#39;Atk（核攻击）网络安全实验室</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="只抽红梅" /><meta name="description" content="OSSEC 学习教程一。写在前面的话，网上能够找到一些关于ossec方面的资料，虽然很少，但是总比没有强，不过在实际的使用过程中还是会碰到许多稀奇古怪的问题。整理整理我的使用过程，就当做一篇笔记吧。PS：本文填了很多坑。OSSEC是一款开源的基于主机的入侵检测系统，可以简称为HIDS。它具备日志分析，文件完整性检查，策略监控，rootkit检测，实时报警以及联动响应等功能。它支持多种操作系统：Linux、Windows、MacOS、Solaris、HP-UX、AIX。属于企业安全之利器。" />
<meta name="keywords" content="OSSEC 学习教程一" />



<meta name="baidu-site-verification" content="GSIJv096Bu" />



<meta name="generator" content="Hugo 0.82.0" />


<link rel="canonical" href="https://lcx.cc/post/3918/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="OSSEC 学习教程一" />
<meta property="og:description" content="OSSEC 学习教程一。写在前面的话，网上能够找到一些关于ossec方面的资料，虽然很少，但是总比没有强，不过在实际的使用过程中还是会碰到许多稀奇古怪的问题。整理整理我的使用过程，就当做一篇笔记吧。PS：本文填了很多坑。OSSEC是一款开源的基于主机的入侵检测系统，可以简称为HIDS。它具备日志分析，文件完整性检查，策略监控，rootkit检测，实时报警以及联动响应等功能。它支持多种操作系统：Linux、Windows、MacOS、Solaris、HP-UX、AIX。属于企业安全之利器。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lcx.cc/post/3918/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2013-10-02T09:12:42&#43;08:00" />
<meta property="article:modified_time" content="2013-10-02T09:12:42&#43;08:00" />

<meta itemprop="name" content="OSSEC 学习教程一">
<meta itemprop="description" content="OSSEC 学习教程一。写在前面的话，网上能够找到一些关于ossec方面的资料，虽然很少，但是总比没有强，不过在实际的使用过程中还是会碰到许多稀奇古怪的问题。整理整理我的使用过程，就当做一篇笔记吧。PS：本文填了很多坑。OSSEC是一款开源的基于主机的入侵检测系统，可以简称为HIDS。它具备日志分析，文件完整性检查，策略监控，rootkit检测，实时报警以及联动响应等功能。它支持多种操作系统：Linux、Windows、MacOS、Solaris、HP-UX、AIX。属于企业安全之利器。"><meta itemprop="datePublished" content="2013-10-02T09:12:42&#43;08:00" />
<meta itemprop="dateModified" content="2013-10-02T09:12:42&#43;08:00" />
<meta itemprop="wordCount" content="4240">
<meta itemprop="keywords" content="Html,HTTP,IDS,IE,IP,Linux,Mysql,Net,PHP,Root,SQL,Web,防火墙,分析,服务,服务器,监控,检测,脚本,客户端,命令,模块,事件,文件,系统,邮件,远程," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="OSSEC 学习教程一"/>
<meta name="twitter:description" content="OSSEC 学习教程一。写在前面的话，网上能够找到一些关于ossec方面的资料，虽然很少，但是总比没有强，不过在实际的使用过程中还是会碰到许多稀奇古怪的问题。整理整理我的使用过程，就当做一篇笔记吧。PS：本文填了很多坑。OSSEC是一款开源的基于主机的入侵检测系统，可以简称为HIDS。它具备日志分析，文件完整性检查，策略监控，rootkit检测，实时报警以及联动响应等功能。它支持多种操作系统：Linux、Windows、MacOS、Solaris、HP-UX、AIX。属于企业安全之利器。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Nuclear'Atk</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/">友链</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/%E5%85%B3%E4%BA%8E/">关于</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Nuclear'Atk
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/">友链</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lcx.cc/%E5%85%B3%E4%BA%8E/">关于</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">OSSEC 学习教程一</h1>
      
      <div class="post-meta">
        <time datetime="2013-10-02" class="post-time">
          2013-10-02
        </time>
        <div class="post-category">
            <a href="https://lcx.cc/categories/%E8%80%81%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AE%B9/"> 老系统内容 </a>
            
          </div>
        <span class="more-meta"> 约 4240 字 </span>
          <span class="more-meta"> 预计阅读 9 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    
  </div>
</div>

    
    <div class="post-content">
      
<p style="text-indent:2em;">
	<strong>简介</strong> 
</p>
<p style="text-indent:2em;">
	写在前面的话，网上能够找到一些关于ossec方面的资料，虽然很少，但是总比没有强，不过在实际的使用过程中还是会碰到许多稀奇古怪的问题。整理整理我的使用过程，就当做一篇笔记吧。
</p>
<p style="text-indent:2em;">
	PS：本文填了很多坑。
</p>
<p style="text-indent:2em;">
	OSSEC是一款开源的基于主机的入侵检测系统，可以简称为HIDS。它具备日志分析，文件完整性检查，策略监控，rootkit检测，实时报警以及联动响应等功能。它支持多种操作系统：Linux、Windows、MacOS、Solaris、HP-UX、AIX。属于企业安全之利器。
</p>
<p style="text-indent:2em;">
	详细的介绍和文档可以参考官网网站：<a href="http://www.ossec.net/" target="_blank">http://www.ossec.net/</a> 
</p>
<p style="text-indent:2em;">
	<strong>环境</strong> 
</p>
<p style="text-indent:2em;">
	本文中的环境极其简单，两台CentOS 6.4虚拟机。
</p>
<p style="text-indent:2em;">
	服务端
</p>
<p style="text-indent:2em;">
	计算机名：ossec-server
</p>
<p style="text-indent:2em;">
	IP地址：192.168.100.103
</p>
<p style="text-indent:2em;">
	客户端
</p>
<p style="text-indent:2em;">
	计算机名：ossec-agent
</p>
<p style="text-indent:2em;">
	IP地址：192.168.100.104
</p>
<p style="text-indent:2em;">
	<strong>准备</strong> 
</p>
<p style="text-indent:2em;">
	我们以一个全新的CentOS 6.2为基础的操作系统为例实际讲述如何进行安装。
</p>
<p style="text-indent:2em;">
	首先我们安装需要用到的关联库和软件，由于我们最终是需要把日志导入到MySQL中进行分析，以及需要通过web程序对报警结果进行展示，同时需要把本机当做SMTP，所以需要在本机安装MySQL、Apache和sendmail服务。在当前的终端中执行如下命令：
</p>
<pre class="prettyprint">[root@ossec-server ~]# yum install wget gcc make mysql mysql-server mysql-devel httpd php php-mysql sendmail</pre>
<p style="text-indent:2em;">
	启动httpd、mysql、sendmail服务
</p>
<pre class="prettyprint">[root@ossec-server ~]# /etc/init.d/httpd start
[root@ossec-server ~]# /etc/init.d/mysqld start
[root@ossec-server ~]# /etc/init.d/sendmail start</pre>
<p style="text-indent:2em;">
	下面创建数据库以方便我们下面的安装配置，连接到本机的MySQL，然后执行如下命令：
</p>
<pre class="prettyprint">[root@ossec-server ~]# mysql -uroot -p
mysql&gt; create database ossec;
mysql&gt; grant INSERT,SELECT,UPDATE,CREATE,DELETE,EXECUTE on ossec.* to ossec@localhost;
mysql&gt; set password for ossec@localhost=PASSWORD('ossec');
mysql&gt; flush privileges;
mysql&gt; exit</pre>
<p style="text-indent:2em;">
	大概的环境已经准备的差不多了，下面就进入到实际安装过程。
</p>
<p style="text-indent:2em;">
	<strong>安装OSSEC服务端</strong> 
</p>
<p style="text-indent:2em;">
	首先通过官网的链接下载当前的最新稳定版本 2.7 的服务端包，同时解压。
</p>
<pre class="prettyprint">[root@ossec-server ~]# wget http://www.ossec.net/files/ossec-hids-2.7.tar.gz
[root@ossec-server ~]# tar zxf ossec-hids-2.7.tar.gz
[root@ossec-server ~]# cd ossec-hids-2.7</pre>
<p style="text-indent:2em;">
	为了使OSSEC支持MySQL，需要在安装前执行make setdb命令，如下
</p>
<pre class="prettyprint">[root@ossec-server ~]# cd src; make setdb; cd ..</pre>
<p style="text-indent:2em;">
	看到如下的信息说明可以正常支持MySQL：
</p>
<pre class="prettyprint">Info: Compiled with MySQL support.</pre>
<p style="text-indent:2em;">
	下面进入安装步骤，执行install.sh脚本，同时按照下面的信息进行填写，红色部门是我们需要输入的，其余部分按回车继续即可：
</p>
<pre class="prettyprint">[root@ossec-server ossec-hids-2.7]# ./install.sh

  ** Para instala??o em português, escolha [br].
  ** 要使用中文进行安装, 请选择 [cn].
  ** Fur eine deutsche Installation wohlen Sie [de].
  ** Για εγκατ?σταση στα Ελληνικ?, επιλ?ξτε [el].
  ** For installation in English, choose [en].
  ** Para instalar en Espa?ol , eliga [es].
  ** Pour une installation en fran?ais, choisissez [fr]
  ** A Magyar nyelv? telepítéshez válassza [hu].
  ** Per l'installazione in Italiano, scegli [it].
  ** 日本語でインストールします．選択して下さい．[jp].
  ** Voor installatie in het Nederlands, kies [nl].
  ** Aby instalowa? w j?zyku Polskim, wybierz .
  ** Для инструкций по установке на русском ,введите [ru].
  ** Za instalaciju na srpskom, izaberi [sr].
  ** Türk?e kurulum i?in se?in [tr].
  (en/br/cn/de/el/es/fr/hu/it/jp/nl/pl/ru/sr/tr) [en]: cn
 OSSEC HIDS v2.7 安装脚本 - http://www.ossec.net</pre>
<p style="text-indent:2em;">
	您将开始 OSSEC HIDS 的安装.
</p>
<p style="text-indent:2em;">
	请确认在您的机器上已经正确安装了 C 编译器.
</p>
<p style="text-indent:2em;">
	如果您有任何疑问或建议,请给 dcid@ossec.net (或 daniel.cid@gmail.com) 发邮件.
</p>
<ul>
	<li>
		<p style="text-indent:2em;">
			系统类型: Linux ossec 2.6.32-358.el6.x86_64
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			用户: root
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			主机: ossec
		</p>
		<p style="text-indent:2em;">
			-- 按 ENTER 继续或 Ctrl-C 退出. --
		</p>
	</li>
</ul>
<p style="text-indent:2em;">
	1- 您希望哪一种安装 (server, agent, local or help)? <strong>server</strong> 
</p>
<ul>
	<li>
		<p style="text-indent:2em;">
			选择了 Server 类型的安装.
		</p>
	</li>
</ul>
<p style="text-indent:2em;">
	2- 正在初始化安装环境.
</p>
<ul>
	<li>
		<p style="text-indent:2em;">
			请选择 OSSEC HIDS 的安装路径 [/var/ossec]: <strong>/opt/ossec</strong> 
		</p>
		<ul>
			<li>
				<p style="text-indent:2em;">
					OSSEC HIDS 将安装在  /opt/ossec .
				</p>
			</li>
		</ul>
	</li>
</ul>
<p style="text-indent:2em;">
	3- 正在配置 OSSEC HIDS.
</p>
<p style="text-indent:2em;">
	3.1- 您希望收到e-mail告警吗? (y/n) [y]:
</p>
<p style="text-indent:2em;">
	- 请输入您的 e-mail 地址? <strong>ossec.test@gmail.com</strong> 
</p>
<ul>
	<li>
		<p style="text-indent:2em;">
			我们找到您的 SMTP 服务器为: alt1.gmail-smtp-in.l.google.com.
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			您希望使用它吗? (y/n) [y]: n
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			请输入您的 SMTP 服务器IP或主机名 ? <strong>127.0.0.1</strong> 
		</p>
		<p style="text-indent:2em;">
			3.2- 您希望运行系统完整性检测模块吗? (y/n) [y]:
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			系统完整性检测模块将被部署.
		</p>
		<p style="text-indent:2em;">
			3.3- 您希望运行 rootkit检测吗? (y/n) [y]:
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			rootkit检测将被部署.
		</p>
		<p style="text-indent:2em;">
			3.4- 关联响应允许您在分析已接收事件的基础上执行一个
		</p>
		<p style="text-indent:2em;">
			已定义的命令.
		</p>
		<p style="text-indent:2em;">
			例如,你可以阻止某个IP地址的访问或禁止某个用户的访问权限.
		</p>
		<p style="text-indent:2em;">
			更多的信息,您可以访问:
		</p>
		<p style="text-indent:2em;">
			http://www.ossec.net/en/manual.html#active-response
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			您希望开启联动(active response)功能吗? (y/n) [y]:
		</p>
		<ul>
			<li>
				<p style="text-indent:2em;">
					关联响应已开启
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p style="text-indent:2em;">
			默认情况下, 我们开启了主机拒绝和防火墙拒绝两种响应.
		</p>
		<p style="text-indent:2em;">
			第一种情况将添加一个主机到 /etc/hosts.deny.
		</p>
		<p style="text-indent:2em;">
			第二种情况将在iptables(linux)或ipfilter(Solaris,
		</p>
		<p style="text-indent:2em;">
			FreeBSD 或 NetBSD）中拒绝该主机的访问.
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			该功能可以用以阻止 SSHD 暴力攻击, 端口扫描和其他
		</p>
		<p style="text-indent:2em;">
			一些形式的攻击. 同样你也可以将他们添加到其他地方,
		</p>
		<p style="text-indent:2em;">
			例如将他们添加为 snort 的事件.
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			您希望开启防火墙联动(firewall-drop)功能吗? (y/n) [y]:
		</p>
		<ul>
			<li>
				<p style="text-indent:2em;">
					防火墙联动(firewall-drop)当事件级别 &gt;= 6 时被启动
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p style="text-indent:2em;">
			联动功能默认的白名单是:
		</p>
		<ul>
			<li>
				<p style="text-indent:2em;">
					8.8.8.8
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p style="text-indent:2em;">
			您希望添加更多的IP到白名单吗? (y/n)? [n]: y
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			请输入IP (用空格进行分隔): <strong>192.168.100.103</strong> 
		</p>
		<p style="text-indent:2em;">
			3.5- 您希望接收远程机器syslog吗 (port 514 udp)? (y/n) [y]:
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			远程机器syslog将被接收.
		</p>
		<p style="text-indent:2em;">
			3.6- 设置配置文件以分析一下日志:
		</p>
		<p style="text-indent:2em;">
			-- /var/log/messages
		</p>
		<p style="text-indent:2em;">
			-- /var/log/secure
		</p>
		<p style="text-indent:2em;">
			-- /var/log/maillog
		</p>
		<p style="text-indent:2em;">
			-如果你希望监控其他文件, 只需要在配置文件ossec.conf中
		</p>
		<p style="text-indent:2em;">
			添加新的一项.
		</p>
		<p style="text-indent:2em;">
			任何关于配置的疑问您都可以在 http://www.ossec.net 找到答案.
		</p>
		<p style="text-indent:2em;">
			--- 按 ENTER 以继续 ---
		</p>
	</li>
</ul>
<p style="text-indent:2em;">
	5- 正在安装系统
</p>
<p style="text-indent:2em;">
	- 正在运行Makefile
</p>
<p style="text-indent:2em;">
	INFO: Little endian set.
</p>
<p style="text-indent:2em;">
	…………省略编译输出…………
</p>
<ul>
	<li>
		<p style="text-indent:2em;">
			系统类型是  Redhat Linux.
		</p>
		<ul>
			<li>
				<p style="text-indent:2em;">
					修改启动脚本使 OSSEC HIDS 在系统启动时自动运行
				</p>
			</li>
			<li>
				<p style="text-indent:2em;">
					已正确完成系统配置.
				</p>
			</li>
			<li>
				<p style="text-indent:2em;">
					要启动 OSSEC HIDS:
				</p>
				<p style="text-indent:2em;">
					/opt/ossec/bin/ossec-control start
				</p>
			</li>
			<li>
				<p style="text-indent:2em;">
					要停止 OSSEC HIDS:
				</p>
				<p style="text-indent:2em;">
					/opt/ossec/bin/ossec-control stop
				</p>
			</li>
			<li>
				<p style="text-indent:2em;">
					要查看或修改系统配置,请编辑  /opt/ossec/etc/ossec.conf
				</p>
			</li>
		</ul>
		<p style="text-indent:2em;">
			感谢使用 OSSEC HIDS.
		</p>
		<p style="text-indent:2em;">
			如果您有任何疑问,建议或您找到任何bug,
		</p>
		<p style="text-indent:2em;">
			请通过　contact@ossec.net 或邮件列表 ossec-list@ossec.net 联系我们.
		</p>
		<p style="text-indent:2em;">
			( http://www.ossec.net/en/mailing_lists.html ).
		</p>
		<p style="text-indent:2em;">
			您可以在　http://www.ossec.net 获得更多信息
		</p>
		<p style="text-indent:2em;">
			--- 请按　ENTER 结束安装 (下面可能有更多信息). ---
		</p>
	</li>
</ul>
<p style="text-indent:2em;">
	直到碰到上面内容，说明安装完成。
</p>
<p style="text-indent:2em;">
	<strong>OSSEC服务端配置</strong> 
</p>
<p style="text-indent:2em;">
	上面只是安装好了OSSEC服务端，下面则是为了配置服务端，使其工作正常。执行下面命令启用数据库支持：
</p>
<pre class="prettyprint">[root@ossec-server ossec-hids-2.7]# /opt/ossec/bin/ossec-control enable database</pre>
<p style="text-indent:2em;">
	然后导入MySQL表结构到MySQL中：
</p>
<pre class="prettyprint">[root@ossec-server ossec-hids-2.7]# mysql -uossec -p ossec &lt; ./src/os_dbd/mysql.schema</pre>
<p style="text-indent:2em;">
	修改部分配置文件的权限，否则会启动服务失败：
</p>
<pre class="prettyprint">[root@ossec-server ossec-hids-2.7]# chmod u+w /opt/ossec/etc/ossec.conf</pre>
<p style="text-indent:2em;">
	然后我们编辑ossec.conf文件，在ossec_config中添加MySQL配置：
</p>
<pre class="prettyprint">&lt;ossec_config&gt;
    &lt;database_output&gt;
        &lt;hostname&gt;192.168.100.103&lt;/hostname&gt;
        &lt;username&gt;ossec&lt;/username&gt;
        &lt;password&gt;ossec&lt;/password&gt;
        &lt;database&gt;ossec&lt;/database&gt;
        &lt;type&gt;mysql&lt;/type&gt;
    &lt;/database_output&gt;
&lt;/ossec_config&gt;</pre>
<p style="text-indent:2em;">
	由于我们在前面的安装过程中支持接受远程机器的syslog，所以我们还需要对ossec.conf文件中的syslog部分进行配置，修改ossec.conf文件，按照下面的内容进行修改，把我们网段可以全添加进去：
</p>
<pre class="prettyprint">  &lt;remote&gt;
    &lt;connection&gt;syslog&lt;/connection&gt;
    &lt;allowed-ips&gt;192.168.0.0/16&lt;/allowed-ips&gt;
  &lt;/remote&gt;</pre>
<p style="text-indent:2em;">
	在实际的实验过程中启动ossec服务端必须先添加一个客户端，否则直接启动服务端是会失败的，通过如下命令查看日志会发现如下错误：
</p>
<pre class="prettyprint">[root@ossec-server logs]# cat /opt/ossec/logs/ossec.log

2013/09/23 23:43:15 ossec-analysisd(1210): ERROR: Queue '/queue/alerts/ar' not accessible: 'Connection refused'.
2013/09/23 23:43:15 ossec-analysisd(1301): ERROR: Unable to connect to active response queue.</pre>
<p style="text-indent:2em;">
	在服务器上添加客户端，执行如下命令，按照提示进行输入，红色部分是我们输入的：
</p>
<pre class="prettyprint">[root@ossec-server logs]# /opt/ossec/bin/manage_agents

   ****************************************
   * OSSEC HIDS v2.7 Agent manager.     *
   * The following options are available: *
   ****************************************
      (A)dd an agent (A).
      (E)xtract key for an agent (E).
      (L)ist already added agents (L).
      (R)emove an agent (R).
      (Q)uit.</pre>
<p style="text-indent:2em;">
	Choose your action: A,E,L,R or Q: <strong>A</strong> 
</p>
<ul>
	<li>
		<p style="text-indent:2em;">
			Adding a new agent (use '\q' to return to the main menu).
		</p>
		<p style="text-indent:2em;">
			Please provide the following:
		</p>
		<ul>
			<li>
				<p style="text-indent:2em;">
					A name for the new agent: <strong>ossec-agent</strong>
				</p>
			</li>
			<li>
				<p style="text-indent:2em;">
					The IP Address of the new agent: <strong>192.168.100.104</strong>
				</p>
			</li>
			<li>
				<p style="text-indent:2em;">
					An ID for the new agent[001]:
				</p>
				<p style="text-indent:2em;">
					Agent information:
				</p>
				<p style="text-indent:2em;">
					ID:001
				</p>
				<p style="text-indent:2em;">
					Name:ossec-agent
				</p>
				<p style="text-indent:2em;">
					IP Address:192.168.100.104
				</p>
			</li>
		</ul>
		<p style="text-indent:2em;">
			Confirm adding it?(y/n): <strong>y</strong> 
		</p>
		<p style="text-indent:2em;">
			Agent added.
		</p>
	</li>
</ul>
<p style="text-indent:2em;">
	然后程序会重新进入到第一次的界面，如下，我们导出刚才添加的那个agent的key，用于后面的客户端连接到服务端：
</p>
<pre class="prettyprint">   ****************************************
   * OSSEC HIDS v2.7 Agent manager.     *
   * The following options are available: *
   ****************************************
      (A)dd an agent (A).
      (E)xtract key for an agent (E).
      (L)ist already added agents (L).
      (R)emove an agent (R).
      (Q)uit.</pre>
<p style="text-indent:2em;">
	Choose your action: A,E,L,R or Q: <strong>E</strong> 
</p>
<p style="text-indent:2em;">
	Available agents:
</p>
<p style="text-indent:2em;">
	ID: 001, Name: ossec-agent, IP: 192.168.100.104
</p>
<p style="text-indent:2em;">
	Provide the ID of the agent to extract the key (or '\q' to quit): <strong>001</strong> 
</p>
<p style="text-indent:2em;">
	Agent key information for '001' is:
</p>
<p style="text-indent:2em;">
	MDAxIG9zc2VjLWFnZW50IDE5Mi4xNjguMTAwLjEwNCAzZWJmZWMzZmRlYzE2ODgzZmEyMzc0NWI5MWMyZDlmNmIyNDViZDMxNjBkZGRiM2FlMTk4NDA3ODNiNDFhYzYz
</p>
<p style="text-indent:2em;">
	** Press ENTER to return to the main menu.
</p>
<p style="text-indent:2em;">
	到现在就可以启动我们的ossec服务端了。
</p>
<pre class="prettyprint"># /opt/ossec/bin/ossec-control start</pre>
<p style="text-indent:2em;">
	或者执行
</p>
<pre class="prettyprint"># /etc/init.d/ossec start</pre>
<p style="text-indent:2em;">
	<strong>安装OSSEC客户端</strong> 
</p>
<p style="text-indent:2em;">
	由于我们本身客户端也是Linux服务器，而ossec的服务端和客户端是同一个安装包，所以在客户端上下载安装包，并且解压安装，如下。
</p>
<pre class="prettyprint">[root@ossec-server ~]# wget http://www.ossec.net/files/ossec-hids-2.7.tar.gz
[root@ossec-server ~]# tar zxf ossec-hids-2.7.tar.gz
[root@ossec-server ~]# cd ossec-hids-2.7
[root@ossec-server ~]# ./install.sh </pre>
<p style="text-indent:2em;">
	** Para instala??o em português, escolha [br].
</p>
<p style="text-indent:2em;">
	** 要使用中文进行安装, 请选择 [cn].
</p>
<p style="text-indent:2em;">
	** Fur eine deutsche Installation wohlen Sie [de].
</p>
<p style="text-indent:2em;">
	** Για εγκατ?σταση στα Ελληνικ?, επιλ?ξτε [el].
</p>
<p style="text-indent:2em;">
	** For installation in English, choose [en].
</p>
<p style="text-indent:2em;">
	** Para instalar en Espa?ol , eliga [es].
</p>
<p style="text-indent:2em;">
	** Pour une installation en fran?ais, choisissez [fr]
</p>
<p style="text-indent:2em;">
	** A Magyar nyelv? telepítéshez válassza [hu].
</p>
<p style="text-indent:2em;">
	** Per l'installazione in Italiano, scegli [it].
</p>
<p style="text-indent:2em;">
	** 日本語でインストールします．選択して下さい．[jp].
</p>
<p style="text-indent:2em;">
	** Voor installatie in het Nederlands, kies [nl].
</p>
<p style="text-indent:2em;">
	** Aby instalowa? w j?zyku Polskim, wybierz .
</p>
<p style="text-indent:2em;">
	** Для инструкций по установке на русском ,введите [ru].
</p>
<p style="text-indent:2em;">
	** Za instalaciju na srpskom, izaberi [sr].
</p>
<p style="text-indent:2em;">
	** Türk?e kurulum i?in se?in [tr].
</p>
<p style="text-indent:2em;">
	(en/br/cn/de/el/es/fr/hu/it/jp/nl/pl/ru/sr/tr) [en]: <strong>cn</strong> 
</p>
<p style="text-indent:2em;">
	OSSEC HIDS v2.7 安装脚本 - http://www.ossec.net
</p>
<p style="text-indent:2em;">
	您将开始 OSSEC HIDS 的安装.
</p>
<p style="text-indent:2em;">
	请确认在您的机器上已经正确安装了 C 编译器.
</p>
<p style="text-indent:2em;">
	如果您有任何疑问或建议,请给 dcid@ossec.net (或 daniel.cid@gmail.com) 发邮件.
</p>
<ul>
	<li>
		<p style="text-indent:2em;">
			系统类型: Linux ossec-agent 2.6.18-164.el5
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			用户: root
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			主机: ossec-agent
		</p>
		<p style="text-indent:2em;">
			-- 按 ENTER 继续或 Ctrl-C 退出. --
		</p>
	</li>
</ul>
<p style="text-indent:2em;">
	1- 您希望哪一种安装 (server, agent, local or help)? <strong>agent</strong> 
</p>
<ul>
	<li>
		<p style="text-indent:2em;">
			选择了 Agent(client) 类型的安装.
		</p>
	</li>
</ul>
<p style="text-indent:2em;">
	2- 正在初始化安装环境.
</p>
<ul>
	<li>
		<p style="text-indent:2em;">
			请选择 OSSEC HIDS 的安装路径 [/var/ossec]: <strong>/opt/ossec</strong> 
		</p>
		<ul>
			<li>
				<p style="text-indent:2em;">
					OSSEC HIDS 将安装在  /opt/ossec .
				</p>
			</li>
		</ul>
	</li>
</ul>
<p style="text-indent:2em;">
	3- 正在配置 OSSEC HIDS.
</p>
<p style="text-indent:2em;">
	3.1- 请输入 OSSEC HIDS 服务器的IP地址或主机名: <strong>192.168.100.103</strong> 
</p>
<ul>
	<li>
		<p style="text-indent:2em;">
			添加服务器IP  192.168.100.103
		</p>
		<p style="text-indent:2em;">
			3.2- 您希望运行系统完整性检测模块吗? (y/n) [y]:
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			系统完整性检测模块将被部署.
		</p>
		<p style="text-indent:2em;">
			3.3- 您希望运行 rootkit检测吗? (y/n) [y]:
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			rootkit检测将被部署.
		</p>
		<p style="text-indent:2em;">
			3.4 - 您希望开启联动(active response)功能吗? (y/n) [y]:
		</p>
		<p style="text-indent:2em;">
			3.5- 设置配置文件以分析一下日志:
		</p>
		<p style="text-indent:2em;">
			-- /var/log/messages
		</p>
		<p style="text-indent:2em;">
			-- /var/log/secure
		</p>
		<p style="text-indent:2em;">
			-- /var/log/xferlog
		</p>
		<p style="text-indent:2em;">
			-- /var/log/maillog
		</p>
		<p style="text-indent:2em;">
			-- /var/log/httpd/error_log (apache log)
		</p>
		<p style="text-indent:2em;">
			-- /var/log/httpd/access_log (apache log)
		</p>
		<p style="text-indent:2em;">
			-如果你希望监控其他文件, 只需要在配置文件ossec.conf中
		</p>
		<p style="text-indent:2em;">
			添加新的一项.
		</p>
		<p style="text-indent:2em;">
			任何关于配置的疑问您都可以在 http://www.ossec.net 找到答案.
		</p>
		<p style="text-indent:2em;">
			--- 按 ENTER 以继续 ---
		</p>
	</li>
</ul>
<p style="text-indent:2em;">
	5- 正在安装系统
</p>
<p style="text-indent:2em;">
	- 正在运行Makefile
</p>
<p style="text-indent:2em;">
	INFO: Little endian set.
</p>
<p style="text-indent:2em;">
	…………省略编译输出…………
</p>
<ul>
	<li>
		<p style="text-indent:2em;">
			系统类型是  Redhat Linux.
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			修改启动脚本使 OSSEC HIDS 在系统启动时自动运行
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			已正确完成系统配置.
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			要启动 OSSEC HIDS:
		</p>
		<p style="text-indent:2em;">
			/opt/ossec/bin/ossec-control start
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			要停止 OSSEC HIDS:
		</p>
		<p style="text-indent:2em;">
			/opt/ossec/bin/ossec-control stop
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			要查看或修改系统配置,请编辑  /opt/ossec/etc/ossec.conf
		</p>
		<p style="text-indent:2em;">
			感谢使用 OSSEC HIDS.
		</p>
		<p style="text-indent:2em;">
			如果您有任何疑问,建议或您找到任何bug,
		</p>
		<p style="text-indent:2em;">
			请通过　contact@ossec.net 或邮件列表 ossec-list@ossec.net 联系我们.
		</p>
		<p style="text-indent:2em;">
			( http://www.ossec.net/en/mailing_lists.html ).
		</p>
		<p style="text-indent:2em;">
			您可以在　http://www.ossec.net 获得更多信息
		</p>
		<p style="text-indent:2em;">
			--- 请按　ENTER 结束安装 (下面可能有更多信息). ---
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			您必须首先将该代理添加到服务器端以使他们能够相互通信.
		</p>
		<p style="text-indent:2em;">
			这样做了以后,您可以运行'manage_agents'工具导入
		</p>
		<p style="text-indent:2em;">
			服务器端产生的认证密匙.
		</p>
		<p style="text-indent:2em;">
			/opt/ossec/bin/manage_agents
		</p>
		<p style="text-indent:2em;">
			详细信息请参考:
		</p>
		<p style="text-indent:2em;">
			http://www.ossec.net/en/manual.html#ma
		</p>
	</li>
</ul>
<p style="text-indent:2em;">
	<strong>配置OSSEC客户端</strong> 
</p>
<p style="text-indent:2em;">
	其实配置ossec客户端就是把刚才由服务端生成的key，在客户端中导入，执行如下命令
</p>
<p style="text-indent:2em;">
	[root@ossec-agent ossec-hids-2.7]# /opt/ossec/bin/manage_agents
</p>
<pre class="prettyprint">****************************************
* OSSEC HIDS v2.7 Agent manager.     *
* The following options are available: *
****************************************
   (I)mport key from the server (I).
   (Q)uit.</pre>
<p style="text-indent:2em;">
	Choose your action: I or Q: <strong>I</strong> 
</p>
<ul>
	<li>
		<p style="text-indent:2em;">
			Provide the Key generated by the server.
		</p>
	</li>
	<li>
		<p style="text-indent:2em;">
			The best approach is to cut and paste it.
		</p>
		<p style="text-indent:2em;">
			*** OBS: Do not include spaces or new lines.
		</p>
	</li>
</ul>
<p style="text-indent:2em;">
	Paste it here (or '\q' to quit): <strong>MDAxIG9zc2VjLWFnZW50IDE5Mi4xNjguMTAwLjEwNCAzZWJmZWMzZmRlYzE2ODgzZmEyMzc0NWI5MWMyZDlmNmIyNDViZDMxNjBkZGRiM2FlMTk4NDA3ODNiNDFhYzYz</strong> 
</p>
<p style="text-indent:2em;">
	Agent information:
</p>
<p style="text-indent:2em;">
	ID:001
</p>
<p style="text-indent:2em;">
	Name:ossec-agent
</p>
<p style="text-indent:2em;">
	IP Address:192.168.100.104
</p>
<p style="text-indent:2em;">
	Confirm adding it?(y/n): y
</p>
<p style="text-indent:2em;">
	Added.
</p>
<p style="text-indent:2em;">
	** Press ENTER to return to the main menu.
</p>
<p style="text-indent:2em;">
	最后启动客户端
</p>
<pre class="prettyprint">[root@ossec-agent ossec-hids-2.7]# /opt/ossec/bin/ossec-control start</pre>
<p style="text-indent:2em;">
	或者执行
</p>
<pre class="prettyprint">[root@ossec-agent ossec-hids-2.7]# /etc/init.d/ossec start</pre>
<p style="text-indent:2em;">
	<strong>安装web界面</strong> 
</p>
<p style="text-indent:2em;">
	上面我们安装了ossec的服务端，并且为ossec添加了一个客户端，非常简单的一个环境，环境是搭建好了，可是目前这个环境如果我们要分析ossec的报警信息就太麻烦了，所以我们安装第三方的 web界面用来显示报警信息。
</p>
<pre class="prettyprint">[root@ossec-server ~]# wget https://github.com/ECSC/analogi/archive/master.zip
[root@ossec-server ~]# unzip master
[root@ossec-server ~]# mv analogi-master/ /var/www/html/analogi
[root@ossec-server ~]# cd /var/www/html/
[root@ossec-server html]# chown -R apache.apache analogi/
[root@ossec-server html]# cd analogi/
[root@ossec-server analogi]# cp db_ossec.php.new db_ossec.php</pre>
<p style="text-indent:2em;">
	编辑db_ossec.php文件，修改MySQL的配置信息:
</p>
<pre class="prettyprint">define ('DB_USER_O', 'ossec');
define ('DB_PASSWORD_O', 'ossec');
define ('DB_HOST_O', '127.0.0.1');
define ('DB_NAME_O', 'ossec');</pre>
<p style="text-indent:2em;">
	修改 apache 配置，增加虚拟目录，
</p>
<pre class="prettyprint">[root@ossec-server ~]# vim /etc/httpd/conf.d/analogi.conf</pre>
<p style="text-indent:2em;">
	添加如下内容
</p>
<pre class="prettyprint">Alias /analogi /var/www/html/analogi
&lt;Directory /var/www/html/analogi&gt;
    Order deny,allow
    Deny from all
    Allow from 192.168.0.0/16
&lt;/Directory&gt;</pre>
<p style="text-indent:2em;">
	然后重新启动Apache
</p>
<pre class="prettyprint">[root@ossec-server ~]# /etc/init.d/httpd restart</pre>
<p style="text-indent:2em;">
	然后访问就可以了。
</p>
<p style="text-indent:2em;">
	http://192.168.100.103/analogi/
</p>
<p style="text-indent:2em;">
	<a href="/file/old/3204_s.png" target="_blank"><img title="http://192.168.100.103/analogi/" alt="http://192.168.100.103/analogi/" src="/file/old/3204_s.png" width="780" height="499" /></a> 
</p>
<p style="text-indent:2em;">
	<strong>最后</strong> 
</p>
<p style="text-indent:2em;">
	上面是整个安装和配置步骤，要想让ossec发挥更大的作用，还需要针对实际的环境进行配置修改和规则的调整和编写。在以后的我们会更多关注OSSEC在实际应用中的经验。
</p>
<p style="text-indent:2em;">
	<a href="http://drops.wooyun.org/tips/636" target="_blank">[原文地址]</a> 
</p>
    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">只抽红梅</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2013-10-02
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a href="https://lcx.cc/" target="_blank">Nuclear'Atk（核攻击）网络安全实验室</a>版权所有，转载请注明出处。</span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://lcx.cc/tags/html/">Html</a>
          <a href="https://lcx.cc/tags/http/">HTTP</a>
          <a href="https://lcx.cc/tags/ids/">IDS</a>
          <a href="https://lcx.cc/tags/ie/">IE</a>
          <a href="https://lcx.cc/tags/ip/">IP</a>
          <a href="https://lcx.cc/tags/linux/">Linux</a>
          <a href="https://lcx.cc/tags/mysql/">Mysql</a>
          <a href="https://lcx.cc/tags/net/">Net</a>
          <a href="https://lcx.cc/tags/php/">PHP</a>
          <a href="https://lcx.cc/tags/root/">Root</a>
          <a href="https://lcx.cc/tags/sql/">SQL</a>
          <a href="https://lcx.cc/tags/web/">Web</a>
          <a href="https://lcx.cc/tags/%E9%98%B2%E7%81%AB%E5%A2%99/">防火墙</a>
          <a href="https://lcx.cc/tags/%E5%88%86%E6%9E%90/">分析</a>
          <a href="https://lcx.cc/tags/%E6%9C%8D%E5%8A%A1/">服务</a>
          <a href="https://lcx.cc/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/">服务器</a>
          <a href="https://lcx.cc/tags/%E7%9B%91%E6%8E%A7/">监控</a>
          <a href="https://lcx.cc/tags/%E6%A3%80%E6%B5%8B/">检测</a>
          <a href="https://lcx.cc/tags/%E8%84%9A%E6%9C%AC/">脚本</a>
          <a href="https://lcx.cc/tags/%E5%AE%A2%E6%88%B7%E7%AB%AF/">客户端</a>
          <a href="https://lcx.cc/tags/%E5%91%BD%E4%BB%A4/">命令</a>
          <a href="https://lcx.cc/tags/%E6%A8%A1%E5%9D%97/">模块</a>
          <a href="https://lcx.cc/tags/%E4%BA%8B%E4%BB%B6/">事件</a>
          <a href="https://lcx.cc/tags/%E6%96%87%E4%BB%B6/">文件</a>
          <a href="https://lcx.cc/tags/%E7%B3%BB%E7%BB%9F/">系统</a>
          <a href="https://lcx.cc/tags/%E9%82%AE%E4%BB%B6/">邮件</a>
          <a href="https://lcx.cc/tags/%E8%BF%9C%E7%A8%8B/">远程</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/3919/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">Dionaea低交互式蜜罐部署详解</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/3917/">
            <span class="next-text nav-default">Struts2解析某些value值的include标签,webServer StackOverflow</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:root@lcx.cc" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="/" rel="me noopener" class="iconfont"
      title="linkedin"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="33" height="33">
  <path d="M872.405333 872.618667h-151.637333v-237.610667c0-56.661333-1.152-129.578667-79.018667-129.578667-79.061333 0-91.136 61.653333-91.136 125.397334v241.792H398.976V384h145.664v66.602667h1.962667c20.352-38.4 69.845333-78.933333 143.786666-78.933334 153.642667 0 182.058667 101.12 182.058667 232.746667v268.202667zM227.712 317.141333a87.978667 87.978667 0 0 1-88.021333-88.106666 88.064 88.064 0 1 1 88.021333 88.106666z m76.032 555.477334H151.68V384h152.064v488.618667zM948.266667 0H75.562667C33.792 0 0 33.024 0 73.770667v876.458666C0 991.018667 33.792 1024 75.562667 1024h872.576C989.866667 1024 1024 991.018667 1024 950.229333V73.770667C1024 33.024 989.866667 0 948.138667 0h0.128z"></path>
</svg>

    </a>
  
    <a href="/" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>
  
    <a href="/" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>
  
    <a href="/" rel="me noopener" class="iconfont"
      title="douban"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M926.917973 37.80608C959.65184 37.80608 986.19392 64.34816 986.19392 97.082027L986.19392 926.917973C986.19392 959.65184 959.65184 986.19392 926.917973 986.19392L97.082027 986.19392C64.34816 986.19392 37.80608 959.65184 37.80608 926.917973L37.80608 97.082027C37.80608 64.34816 64.34816 37.80608 97.082027 37.80608zM176.653653 176.19968 176.653653 252.678827 825.658027 252.678827 825.658027 176.19968zM217.719467 316.146347 217.719467 628.08064 273.524053 628.08064 341.292373 770.39616 157.259093 770.39616 157.259093 845.417813 842.949973 845.417813 842.949973 770.39616 654.226773 770.39616 722.899627 628.08064 783.67744 628.08064 783.67744 316.146347zM684.885333 392.891733 684.885333 553.987413 312.576 553.987413 312.576 392.891733zM570.770773 770.39616 426.653013 770.39616 359.621973 628.08064 639.443627 628.08064z"></path>
</svg>

    </a>


<a href="https://lcx.cc/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">

  

  <span class="copyright-year">
    &copy;
    
      2010 -
    2025
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Nuclear'Atk（核攻击）网络安全实验室
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>






<script id="baidu_analytics">
  var _hmt = _hmt || [];
  (function() {
    if (window.location.hostname === 'localhost') return;
    var hm = document.createElement("script"); hm.async = true;
    hm.src = "https://hm.baidu.com/hm.js?90a2a7fb2c0fa46d3747ec9668f12a39";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>

<script id="baidu_push">
  (function(){
    if (window.location.hostname === 'localhost') return;
    var bp = document.createElement('script'); bp.async = true;
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>



  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  














  <script src="/js/my.js"></script>


</body>
</html>
